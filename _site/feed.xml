<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2024-01-14T17:23:55+09:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Joshua Kim</title><subtitle>Data Analyst</subtitle><entry><title type="html">Data Warehouse #12-13</title><link href="http://localhost:4000/data-warehouse-12-13/" rel="alternate" type="text/html" title="Data Warehouse #12-13" /><published>2024-01-14T00:00:00+09:00</published><updated>2024-01-14T00:00:00+09:00</updated><id>http://localhost:4000/data-warehouse-12-13</id><content type="html" xml:base="http://localhost:4000/data-warehouse-12-13/"><![CDATA[<blockquote>
  <p>In this article, Iâ€™ll summarize key takeaways from:</p>
  <ul>
    <li>SECTION 12. Using a Data Warehouse</li>
    <li>SECTION 13. Optimizing a Data Warehouse</li>
  </ul>
</blockquote>

<h3 id="disclaimer">DISCLAIMER</h3>
<blockquote>
  <p>This article is a compilation of key takeaways after completing <a href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/">Data Warehouse â€” The Ultimate Guide</a> on Udemy. However, it may be challenging to achieve a comprehensive and deep understanding of Data Warehouse solely through this article. For your in-depth learning, please take the course, which is an excellent resource, and I personally highly recommend it to those who are eager to master data warehousing, dimensional modeling, and the ETL process.</p>
</blockquote>

<p><img src="/assets/2023-12-19-data-warehouse-06/data-warehouse.webp" alt="" /></p>
<blockquote>
  <p><a href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/">Source</a></p>
</blockquote>

<h1 id="using-indexes">Using Indexes</h1>

<p><img src="/assets/2024-01-14-data-warehouse-12-13/1.png" alt="" /></p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span>
	<span class="n">product_id</span>
<span class="k">FROM</span>
	<span class="n">sales</span>
<span class="k">WHERE</span>
	<span class="n">customer_id</span> <span class="o">=</span> <span class="mi">5</span>
</code></pre></div></div>

<h3 id="without-indexes">WITHOUT Indexes</h3>
<ul>
  <li>Table Scan</li>
  <li>Read Efficiency â¬‡ï¸</li>
  <li>Write Efficiency â¬†ï¸</li>
</ul>

<h3 id="with-indexes">WITH Indexes</h3>
<ul>
  <li>Read Efficiency â¬†ï¸</li>
  <li>Write Efficiency â¬‡ï¸</li>
  <li>How It Works:
    <ul>
      <li>Write Data in a Specific Order</li>
      <li>Create a Lookup Table (to find a pointer to read later)</li>
    </ul>
  </li>
</ul>

<p><img src="/assets/2024-01-14-data-warehouse-12-13/2.png" alt="" /></p>
<blockquote>
  <p>Write Data in a Specific Order</p>
</blockquote>

<p><img src="/assets/2024-01-14-data-warehouse-12-13/3.png" alt="" /></p>
<blockquote>
  <p>Create a Lookup Table</p>
</blockquote>

<p><img src="/assets/2024-01-14-data-warehouse-12-13/4.png" alt="" /></p>

<h1 id="b-tree-indexes">B-tree Indexes</h1>

<p><img src="/assets/2024-01-14-data-warehouse-12-13/5.png" alt="" /></p>
<blockquote>
  <p><a href="https://velog.io/@gayeong39/B-%ED%8A%B8%EB%A6%AC-%EC%9D%B8%EB%8D%B1%EC%8A%A4">Source</a></p>
</blockquote>

<ul>
  <li>Multi-level Tree Structure</li>
  <li>It breaks data down into pages or blocks.</li>
  <li>Columns should be High Cardinality</li>
  <li>Not Entire Table</li>
  <li>Storage Cost â¬†ï¸</li>
</ul>

<h1 id="bitmap-indexes">Bitmap Indexes</h1>

<p><img src="/assets/2024-01-14-data-warehouse-12-13/6.png" alt="" /></p>
<blockquote>
  <p><a href="https://velog.io/@gayeong39/%EB%B9%84%ED%8A%B8%EB%A7%B5-%EC%9D%B8%EB%8D%B1%EC%8A%A4BitMap-Index">Source</a></p>
</blockquote>

<ul>
  <li>Particularly Good for Data Warehouses</li>
  <li>Columns should be <strong>Low Cardinality</strong> + <strong>Large Amounts of Data</strong></li>
  <li>Storage Cost â¬‡ï¸</li>
  <li>Read Optimization â¬†ï¸</li>
  <li>DML Operation â¬†ï¸</li>
</ul>

<h1 id="guidelines">Guidelines</h1>

<table>
  <thead>
    <tr>
      <th><strong>B-tree Index</strong></th>
      <th><strong>Bitmap Index</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Default Index</td>
      <td>Slow Update</td>
    </tr>
    <tr>
      <td>Unique Columns</td>
      <td>Storage Efficiency</td>
    </tr>
    <tr>
      <td>(Surrogate Key, Names)</td>
      <td>Read Performance â¬†ï¸</td>
    </tr>
  </tbody>
</table>

<p><img src="/assets/2024-01-14-data-warehouse-12-13/7.png" alt="" /></p>

<h3 id="fact-tables">Fact Tables</h3>
<ul>
  <li>Choose Columns that are used as <code class="language-plaintext highlighter-rouge">Filters</code>.</li>
  <li>Surrogate Key â†’ <strong>B-tree Index</strong></li>
  <li>Foreign Keys â†’ <strong>Bitmap Index</strong></li>
</ul>

<h3 id="dimension-tables">Dimension Tables</h3>
<ul>
  <li>Are they used in searches a lot?</li>
  <li>Choose based on <code class="language-plaintext highlighter-rouge">Cardinality</code>.</li>
</ul>

<h3 id="create-index-examples">Create Index Examples</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">INDEX</span>
	<span class="n">index_name</span> <span class="k">ON</span> <span class="k">table_name</span> <span class="p">[</span><span class="k">USING</span> <span class="k">method</span><span class="p">]</span>
	<span class="p">(</span>
		<span class="k">column_name</span> <span class="p">[</span><span class="k">ASC</span> <span class="o">|</span> <span class="k">DESC</span><span class="p">],</span>
		<span class="p">...</span>
	<span class="p">)</span>
<span class="p">;</span>
</code></pre></div></div>

<hr />

<h2 id="published-by-joshua-kim"><em>Published by</em> Joshua Kim</h2>
<p><img src="/assets/profile/joshua-profile.png" alt="Joshua Kim" /></p>]]></content><author><name></name></author><category term="SQL" /><category term="Data Warehouse" /><summary type="html"><![CDATA[In this article, Iâ€™ll summarize key takeaways from: SECTION 12. Using a Data Warehouse SECTION 13. Optimizing a Data Warehouse]]></summary></entry><entry><title type="html">Data Warehouse #10</title><link href="http://localhost:4000/data-warehouse-10/" rel="alternate" type="text/html" title="Data Warehouse #10" /><published>2024-01-13T00:00:00+09:00</published><updated>2024-01-13T00:00:00+09:00</updated><id>http://localhost:4000/data-warehouse-10</id><content type="html" xml:base="http://localhost:4000/data-warehouse-10/"><![CDATA[<blockquote>
  <p>In this article, Iâ€™ll summarize key takeaways from:</p>
  <ul>
    <li>SECTION 10. Case Study: Creating a Data Warehouse</li>
  </ul>
</blockquote>

<h3 id="disclaimer">DISCLAIMER</h3>
<blockquote>
  <p>This article is a compilation of key takeaways after completing <a href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/">Data Warehouse â€” The Ultimate Guide</a> on Udemy. However, it may be challenging to achieve a comprehensive and deep understanding of Data Warehouse solely through this article. For your in-depth learning, please take the course, which is an excellent resource, and I personally highly recommend it to those who are eager to master data warehousing, dimensional modeling, and the ETL process.</p>
</blockquote>

<p><img src="/assets/2023-12-19-data-warehouse-06/data-warehouse.webp" alt="" /></p>
<blockquote>
  <p><a href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/">Source</a></p>
</blockquote>

<h1 id="guidelines">Guidelines</h1>
<ol>
  <li>Look at the problem and plan</li>
  <li>Set up tables &amp; schema</li>
  <li>Staging</li>
  <li>Core (Dimension Tables)</li>
  <li>Core (Fact Tables)</li>
  <li>Set up Jobs &amp; Testing</li>
</ol>

<h1 id="fact-table-design">Fact Table Design</h1>
<ol>
  <li><code class="language-plaintext highlighter-rouge">date_FK</code></li>
  <li><code class="language-plaintext highlighter-rouge">product_FK</code></li>
  <li><code class="language-plaintext highlighter-rouge">payment_FK</code></li>
  <li>Additional Columns:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">total_price</code></li>
      <li><code class="language-plaintext highlighter-rouge">total_cost</code></li>
      <li><code class="language-plaintext highlighter-rouge">profit</code></li>
    </ul>
  </li>
</ol>

<p><img src="/assets/2024-01-13-data-warehouse-10/1.png" alt="" /></p>

<h1 id="processing-order">Processing Order</h1>

<p><img src="/assets/2024-01-13-data-warehouse-10/2.png" alt="" /></p>

<h3 id="source--staging">Source â†’ Staging</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Extract</code>
    <ul>
      <li>Add Surrogate Key</li>
      <li>Delta Logic
        <h3 id="staging--core">Staging â†’ Core</h3>
      </li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Transform</code> + <code class="language-plaintext highlighter-rouge">Load</code>
    <ul>
      <li>Clean Data</li>
      <li>Add Additional Columns</li>
    </ul>
  </li>
</ul>

<h1 id="scheduling">Scheduling</h1>
<ul>
  <li>Jobs or Packages</li>
  <li>Scheduling at:
    <ul>
      <li>Specific Times</li>
      <li>Frequencies</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="published-by-joshua-kim"><em>Published by</em> Joshua Kim</h2>
<p><img src="/assets/profile/joshua-profile.png" alt="Joshua Kim" /></p>]]></content><author><name></name></author><category term="SQL" /><category term="Data Warehouse" /><summary type="html"><![CDATA[In this article, Iâ€™ll summarize key takeaways from: SECTION 10. Case Study: Creating a Data Warehouse]]></summary></entry><entry><title type="html">Data Warehouse #11</title><link href="http://localhost:4000/data-warehouse-11/" rel="alternate" type="text/html" title="Data Warehouse #11" /><published>2024-01-13T00:00:00+09:00</published><updated>2024-01-13T00:00:00+09:00</updated><id>http://localhost:4000/data-warehouse-11</id><content type="html" xml:base="http://localhost:4000/data-warehouse-11/"><![CDATA[<blockquote>
  <p>In this article, Iâ€™ll summarize key takeaways from:</p>
  <ul>
    <li>SECTION 11. ETL vs. ELT</li>
  </ul>
</blockquote>

<h3 id="disclaimer">DISCLAIMER</h3>
<blockquote>
  <p>This article is a compilation of key takeaways after completing <a href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/">Data Warehouse â€” The Ultimate Guide</a> on Udemy. However, it may be challenging to achieve a comprehensive and deep understanding of Data Warehouse solely through this article. For your in-depth learning, please take the course, which is an excellent resource, and I personally highly recommend it to those who are eager to master data warehousing, dimensional modeling, and the ETL process.</p>
</blockquote>

<p><img src="/assets/2023-12-19-data-warehouse-06/data-warehouse.webp" alt="" /></p>
<blockquote>
  <p><a href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/">Source</a></p>
</blockquote>

<h1 id="what-is-elt">What is ELT?</h1>

<p><img src="/assets/2024-01-13-data-warehouse-11/1.png" alt="" /></p>

<h3 id="data-sources--data-warehouse">Data Sources â†’ Data Warehouse</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Extract</code> + <code class="language-plaintext highlighter-rouge">Load</code>
    <ul>
      <li>Real-time â¬†ï¸</li>
    </ul>
  </li>
</ul>

<h3 id="data-warehouse--">Data Warehouse â†’ â€¦</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Transform</code>
    <ul>
      <li>Leverage Database</li>
      <li>More Flexible!</li>
    </ul>
  </li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span>
    <span class="n">category</span><span class="p">,</span>
    <span class="k">SUM</span><span class="p">(</span><span class="n">sales_amount</span><span class="p">)</span>
<span class="k">FROM</span>
    <span class="n">sales</span>
<span class="k">GROUP</span> <span class="k">BY</span>
    <span class="n">category</span>
</code></pre></div></div>

<h1 id="etl-vs-elt">ETL vs. ELT</h1>

<table>
  <thead>
    <tr>
      <th><strong>ETL</strong></th>
      <th><strong>ELT</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>More Stable with Defined Transformations</td>
      <td>Requires High Performing DB</td>
    </tr>
    <tr>
      <td>More Generic Use Cases</td>
      <td>More Flexible</td>
    </tr>
    <tr>
      <td>Security â¬†ï¸</td>
      <td>Transformations can be Changed Quickly!</td>
    </tr>
    <tr>
      <td>Reporting</td>
      <td>Real-time â¬†ï¸</td>
    </tr>
    <tr>
      <td>Easy to Use</td>
      <td>Data Science, ML</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="published-by-joshua-kim"><em>Published by</em> Joshua Kim</h2>
<p><img src="/assets/profile/joshua-profile.png" alt="Joshua Kim" /></p>]]></content><author><name></name></author><category term="SQL" /><category term="Data Warehouse" /><summary type="html"><![CDATA[In this article, Iâ€™ll summarize key takeaways from: SECTION 11. ETL vs. ELT]]></summary></entry><entry><title type="html">Data Warehouse #09</title><link href="http://localhost:4000/data-warehouse-09/" rel="alternate" type="text/html" title="Data Warehouse #09" /><published>2024-01-12T00:00:00+09:00</published><updated>2024-01-12T00:00:00+09:00</updated><id>http://localhost:4000/data-warehouse-09</id><content type="html" xml:base="http://localhost:4000/data-warehouse-09/"><![CDATA[<blockquote>
  <p>In this article, Iâ€™ll summarize key takeaways from:</p>
  <ul>
    <li>SECTION 09. ETL Tools</li>
  </ul>
</blockquote>

<h3 id="disclaimer">DISCLAIMER</h3>
<blockquote>
  <p>This article is a compilation of key takeaways after completing <a href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/">Data Warehouse â€” The Ultimate Guide</a> on Udemy. However, it may be challenging to achieve a comprehensive and deep understanding of Data Warehouse solely through this article. For your in-depth learning, please take the course, which is an excellent resource, and I personally highly recommend it to those who are eager to master data warehousing, dimensional modeling, and the ETL process.</p>
</blockquote>

<p><img src="/assets/2023-12-19-data-warehouse-06/data-warehouse.webp" alt="" /></p>
<blockquote>
  <p><a href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/">Source</a></p>
</blockquote>

<h1 id="etl-tools">ETL Tools</h1>

<table>
  <thead>
    <tr>
      <th><strong>Enterprise</strong></th>
      <th><strong>Open-source</strong></th>
      <th><strong>Cloud-native</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Alteryx</td>
      <td>Talend Open Studio</td>
      <td>Azure Data Factory</td>
    </tr>
    <tr>
      <td>Informatica</td>
      <td>Pentaho Data Integration</td>
      <td>AWS Glue</td>
    </tr>
    <tr>
      <td>Oracle Data Integrator</td>
      <td>Hadoop</td>
      <td>Google Cloud Data Flow</td>
    </tr>
    <tr>
      <td>Microsoft SSIS</td>
      <td>-</td>
      <td>Stitch</td>
    </tr>
  </tbody>
</table>

<h1 id="chosing-etl-tools">Chosing ETL Tools</h1>

<h3 id="1-evaluate-current-situation--needs">1. Evaluate Current Situation &amp; Needs</h3>
<ul>
  <li>What do you want to improve?</li>
  <li>Data sources &amp; other tools?</li>
  <li>Define your requirements.</li>
  <li>Define responsibilities.</li>
  <li>Who are the users?</li>
</ul>

<h3 id="2-evaluate-tools">2. Evaluate Tools</h3>
<ul>
  <li>Cost, Connectors, Capabilities, Ease of Use, Reviews, Support, and Extras</li>
</ul>

<hr />

<h2 id="published-by-joshua-kim"><em>Published by</em> Joshua Kim</h2>
<p><img src="/assets/profile/joshua-profile.png" alt="Joshua Kim" /></p>]]></content><author><name></name></author><category term="SQL" /><category term="Data Warehouse" /><summary type="html"><![CDATA[In this article, Iâ€™ll summarize key takeaways from: SECTION 09. ETL Tools]]></summary></entry><entry><title type="html">Data Warehouse #08</title><link href="http://localhost:4000/data-warehouse-08/" rel="alternate" type="text/html" title="Data Warehouse #08" /><published>2024-01-11T00:00:00+09:00</published><updated>2024-01-11T00:00:00+09:00</updated><id>http://localhost:4000/data-warehouse-08</id><content type="html" xml:base="http://localhost:4000/data-warehouse-08/"><![CDATA[<blockquote>
  <p>In this article, Iâ€™ll summarize key takeaways from:</p>
  <ul>
    <li>SECTION 08. ETL Process</li>
  </ul>
</blockquote>

<h3 id="disclaimer">DISCLAIMER</h3>
<blockquote>
  <p>This article is a compilation of key takeaways after completing <a href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/">Data Warehouse â€” The Ultimate Guide</a> on Udemy. However, it may be challenging to achieve a comprehensive and deep understanding of Data Warehouse solely through this article. For your in-depth learning, please take the course, which is an excellent resource, and I personally highly recommend it to those who are eager to master data warehousing, dimensional modeling, and the ETL process.</p>
</blockquote>

<p><img src="/assets/2023-12-19-data-warehouse-06/data-warehouse.webp" alt="" /></p>
<blockquote>
  <p><a href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/">Source</a></p>
</blockquote>

<h1 id="understanding-the-etl-process">Understanding the ETL Process</h1>

<h3 id="the-layer-of-a-data-warehouse">The Layer of a Data Warehouse</h3>

<p><img src="/assets/2024-01-11-data-warehouse-08/1.png" alt="" /></p>

<p><strong>ETL Setup</strong></p>
<ul>
  <li>1ï¸âƒ£ Building Workflows
    <ul>
      <li>Staging Workflow</li>
      <li>Core Workflow</li>
      <li>Data Mart Workflow</li>
    </ul>
  </li>
  <li>2ï¸âƒ£ Jobs
    <ul>
      <li>Run the Workflows</li>
      <li>Scheduled based on Defined Rules</li>
    </ul>
  </li>
</ul>

<h1 id="extracting-data-sources--staging">Extracting (Data Sources â†’ Staging)</h1>

<p><img src="/assets/2024-01-11-data-warehouse-08/2.png" alt="" /></p>

<ul>
  <li>Transient, most commonly.
    <ul>
      <li>All the data is copied and then deleted.</li>
    </ul>
  </li>
  <li>Types of Extracting</li>
</ul>

<table>
  <thead>
    <tr>
      <th><strong>Initial Load</strong></th>
      <th><strong>Delta Load</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>First (real) Run</td>
      <td>Subsequent Runs</td>
    </tr>
    <tr>
      <td>All Data</td>
      <td>Only Additional Data</td>
    </tr>
  </tbody>
</table>

<h1 id="extracting-data-sources--staging-1ï¸âƒ£-initial-load">Extracting (Data Sources â†’ Staging): 1ï¸âƒ£ Initial Load</h1>

<ul>
  <li>First Initial Extraction from Source Data</li>
  <li>Followings should be discussed:
    <ul>
      <li>What data is needed?</li>
      <li>When is a good time to load the data? (Night? Weekend?)</li>
      <li>Test with smaller extractions.</li>
      <li>All the transformation steps should have been designed. (up to Core and Data Marts)</li>
    </ul>
  </li>
</ul>

<h1 id="extracting-data-sources--staging-2ï¸âƒ£-delta-load">Extracting (Data Sources â†’ Staging): 2ï¸âƒ£ Delta Load</h1>

<ul>
  <li>Incremental Periodic Extraction &amp; Load</li>
  <li><strong>Delta Column</strong>
    <ul>
      <li>Remember <code class="language-plaintext highlighter-rouge">MAX(sales_key)</code></li>
    </ul>
  </li>
</ul>

<pre><code class="language-plain">Variable X = MAX(sales_key)
Next Run: sales_key &gt; X
</code></pre>

<p><img src="/assets/2024-01-11-data-warehouse-08/3.png" alt="" /></p>

<p>What if there is no <strong>Delta Column</strong>?</p>
<ul>
  <li>Some tools can capture automatically which data has already been loaded.</li>
  <li>Just full-load every time and compare the data with data that is already loaded.</li>
  <li>Depending on the data volume â†’ Performance Issue!</li>
</ul>

<h1 id="loading-staging--core-insert--update">Loading (Staging â†’ Core): INSERT &amp; UPDATE</h1>

<p><img src="/assets/2024-01-11-data-warehouse-08/4.png" alt="" /></p>

<ul>
  <li><strong>INSERT or APPEND</strong>
    <ul>
      <li>add new values</li>
    </ul>
  </li>
  <li><strong>UPDATE</strong>
    <ul>
      <li>change the existing values</li>
    </ul>
  </li>
  <li><strong>DELETE</strong>?
    <ul>
      <li>typically, we donâ€™t delete data.</li>
    </ul>
  </li>
</ul>

<h1 id="demo-extracting-data-sources--staging">[DEMO] Extracting (Data Sources â†’ Staging)</h1>

<h3 id="create-table">Create Table</h3>

<p><img src="/assets/2024-01-11-data-warehouse-08/5.png" alt="" /></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">dim_products</code> in Staging Layer</li>
</ul>

<table>
  <thead>
    <tr>
      <th><strong>column</strong></th>
      <th><strong>type</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">product_PK</code></td>
      <td>Surrogate Key</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">product_id</code></td>
      <td>Natural Key</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">product_name</code></td>
      <td>Â </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">category</code></td>
      <td>Â </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">subcategory</code></td>
      <td>Â </td>
    </tr>
  </tbody>
</table>

<h3 id="initial-load">Initial Load</h3>

<p><img src="/assets/2024-01-11-data-warehouse-08/6.png" alt="" /></p>

<ul>
  <li>Table input
    <ul>
      <li>from <code class="language-plaintext highlighter-rouge">products</code> in Source</li>
    </ul>
  </li>
  <li>Table output
    <ul>
      <li>to <code class="language-plaintext highlighter-rouge">dim_products</code> in Staging Layer</li>
    </ul>
  </li>
</ul>

<h3 id="delta-load">Delta Load</h3>

<p><img src="/assets/2024-01-11-data-warehouse-08/7.png" alt="" /></p>

<ul>
  <li>Table input
    <ul>
      <li>from <code class="language-plaintext highlighter-rouge">dim_products</code> in Staging Layer</li>
      <li><code class="language-plaintext highlighter-rouge">SELECT MAX(product_id) FROM "Staging".dim_products</code></li>
    </ul>
  </li>
  <li>Set variables
    <ul>
      <li>Save As <code class="language-plaintext highlighter-rouge">LastLoad</code></li>
    </ul>
  </li>
  <li>Get variables
    <ul>
      <li><code class="language-plaintext highlighter-rouge">${LastLoad}</code></li>
    </ul>
  </li>
  <li>Table input
    <ul>
      <li>from <code class="language-plaintext highlighter-rouge">products</code> in Source</li>
      <li><code class="language-plaintext highlighter-rouge">SELECT * FROM "public".products WHERE product_id &gt; ${LastLoad}</code></li>
    </ul>
  </li>
  <li>Table output
    <ul>
      <li>to <code class="language-plaintext highlighter-rouge">dim_products</code> in Staging Layer</li>
    </ul>
  </li>
</ul>

<h1 id="transformations">Transformations</h1>

<h3 id="basic">Basic</h3>

<ul>
  <li>
    <p>Deduplication
<img src="/assets/2024-01-11-data-warehouse-08/8.png" alt="" /></p>
  </li>
  <li>
    <p>Filtering Rows
<img src="/assets/2024-01-11-data-warehouse-08/9.png" alt="" /></p>
  </li>
  <li>
    <p>Filtering Columns
<img src="/assets/2024-01-11-data-warehouse-08/10.png" alt="" /></p>
  </li>
  <li>
    <p>Cleaning &amp; Mapping
<img src="/assets/2024-01-11-data-warehouse-08/11.png" alt="" /></p>
  </li>
  <li>
    <p>Value Standardization
<img src="/assets/2024-01-11-data-warehouse-08/12.png" alt="" /></p>
  </li>
  <li>
    <p>Key Generation
<img src="/assets/2024-01-11-data-warehouse-08/13.png" alt="" /></p>
  </li>
</ul>

<h3 id="advanced">Advanced</h3>

<ul>
  <li>
    <p>Joining
<img src="/assets/2024-01-11-data-warehouse-08/14.png" alt="" /></p>
  </li>
  <li>
    <p>Splitting
<img src="/assets/2024-01-11-data-warehouse-08/15.png" alt="" /></p>
  </li>
  <li>Aggregating
    <ul>
      <li><code class="language-plaintext highlighter-rouge">SUM</code>, <code class="language-plaintext highlighter-rouge">COUNT</code>, <code class="language-plaintext highlighter-rouge">DISTINCT COUNT</code>, <code class="language-plaintext highlighter-rouge">AVERAGE</code>
<img src="/assets/2024-01-11-data-warehouse-08/16.png" alt="" /></li>
    </ul>
  </li>
  <li>Deriving New Values
<img src="/assets/2024-01-11-data-warehouse-08/17.png" alt="" /></li>
</ul>

<h1 id="summary">Summary</h1>

<p><img src="/assets/2024-01-11-data-warehouse-08/18.png" alt="" /></p>

<ul>
  <li><strong>Extract</strong>: Source â†’ Staging
    <ul>
      <li>Add Surrogate Key</li>
      <li>Delta Logic</li>
    </ul>
  </li>
  <li><strong>Transform + Load</strong>: Staging â†’ Core
    <ul>
      <li>Clean Data</li>
      <li>Add Additional Columns</li>
    </ul>
  </li>
</ul>

<h1 id="scheduling">Scheduling</h1>

<h3 id="can-be-done-either">Can be done either:</h3>

<ul>
  <li>directly from the ETL Tool,</li>
  <li>or using External Tool
    <ul>
      <li>e.g., Windows Task Scheduler, Server, etc.</li>
    </ul>
  </li>
</ul>

<h3 id="guidelines">Guidelines</h3>

<ul>
  <li>What are the requirements?
    <ul>
      <li>3 times a day?</li>
      <li>1 time a day?</li>
      <li>Every 30 mins?</li>
    </ul>
  </li>
  <li>How long does it take?
    <ul>
      <li>5 mins?</li>
      <li>1 hour?</li>
    </ul>
  </li>
  <li>What is a good time?
    <ul>
      <li>Initial Load vs. Delta Load</li>
      <li>Effect on the Productive System</li>
      <li>Short Read Access</li>
      <li>Night? Morning?</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="published-by-joshua-kim"><em>Published by</em> Joshua Kim</h2>
<p><img src="/assets/profile/joshua-profile.png" alt="Joshua Kim" /></p>]]></content><author><name></name></author><category term="SQL" /><category term="Data Warehouse" /><summary type="html"><![CDATA[In this article, Iâ€™ll summarize key takeaways from: SECTION 08. ETL Process]]></summary></entry><entry><title type="html">Data Warehouse #07</title><link href="http://localhost:4000/data-warehouse-07/" rel="alternate" type="text/html" title="Data Warehouse #07" /><published>2024-01-02T00:00:00+09:00</published><updated>2024-01-02T00:00:00+09:00</updated><id>http://localhost:4000/data-warehouse-07</id><content type="html" xml:base="http://localhost:4000/data-warehouse-07/"><![CDATA[<blockquote>
  <p>In this article, Iâ€™ll summarize key takeaways from:</p>
  <ul>
    <li>SECTION 07. Slowly Changing Dimensions</li>
  </ul>
</blockquote>

<h3 id="disclaimer">DISCLAIMER</h3>
<blockquote>
  <p>This article is a compilation of key takeaways after completing <a href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/">Data Warehouse â€” The Ultimate Guide</a> on Udemy. However, it may be challenging to achieve a comprehensive and deep understanding of Data Warehouse solely through this article. For your in-depth learning, please take the course, which is an excellent resource, and I personally highly recommend it to those who are eager to master data warehousing, dimensional modeling, and the ETL process.</p>
</blockquote>

<p><img src="/assets/2023-12-19-data-warehouse-06/data-warehouse.webp" alt="" /></p>
<blockquote>
  <p><a href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/">Source</a></p>
</blockquote>

<h1 id="slowly-changing-dimensions">Slowly Changing Dimensions</h1>

<p>Dimensions are rather static than Facts, but they do change in the real world.</p>

<p>Types of Slowly Changing Dimensions (SCDs)</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Type 0</code>: Retain Original</li>
  <li><code class="language-plaintext highlighter-rouge">Type 1</code>: Overwrite</li>
  <li><code class="language-plaintext highlighter-rouge">Type 2</code>: New Row
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Type 2'</code>: Administrative New Row</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Type 3</code>: Additional Attributes</li>
</ul>

<h1 id="type-0-retain-original">Type 0: Retain Original</h1>
<ul>
  <li>No changes at all.</li>
  <li>Very simple and easy to maintain.</li>
  <li><code class="language-plaintext highlighter-rouge">Dates Table</code> is a great example.</li>
</ul>

<h1 id="type-1-overwrite">Type 1: Overwrite</h1>

<p><img src="/assets/2024-01-02-data-warehouse-07/overwrite.png" alt="" /></p>

<ul>
  <li>Old attributes are just <strong>Overwritten</strong>.</li>
  <li>Only the <strong>Current State</strong> is reflected.</li>
  <li>ğŸ‘ <strong>Advantages</strong>
    <ul>
      <li>Very simple</li>
      <li>Facts donâ€™t need to be modified.</li>
    </ul>
  </li>
  <li>ğŸ‘ <strong>Disadvantages</strong>
    <ul>
      <li>History is lost.</li>
      <li>Insignificant Changes â¡ï¸ Do not affect existing queries.
        <ul>
          <li>i.e., product name</li>
        </ul>
      </li>
      <li>Significant Changes â¡ï¸ Affect or break existing queries.
        <ul>
          <li>i.e., category</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h1 id="type-2-new-row">Type 2: New Row</h1>

<p><img src="/assets/2024-01-02-data-warehouse-07/new-row.png" alt="" /></p>

<ul>
  <li>Perfectly partitions <strong>history</strong>.</li>
  <li>Changes are reflected in <strong>history</strong>.</li>
  <li>ğŸ‘ <strong>Disadvantages</strong>
    <ul>
      <li>Difficult to calculate the total number of products in the current view.</li>
    </ul>
  </li>
</ul>

<h1 id="type-2-administrative-new-row">Type 2â€™: Administrative New Row</h1>

<p><img src="/assets/2024-01-02-data-warehouse-07/administrative-new-row.png" alt="" /></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">effective_date</code> &amp; <code class="language-plaintext highlighter-rouge">expiration_date</code>
    <ul>
      <li>The period in which values are valid.</li>
      <li><code class="language-plaintext highlighter-rouge">expiration_date</code>
        <ul>
          <li>Avoid <strong>Null</strong> values, and fill in a date far in the future instead.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Requires <strong>Surrogate Key</strong> instead of <strong>Natural Key</strong>.</li>
  <li>Lookup from the Query
    <ul>
      <li>Step 1) Find the Natural Key. (<code class="language-plaintext highlighter-rouge">product_PK</code>)</li>
      <li>Step 2) Then, find the Valid Period. (<code class="language-plaintext highlighter-rouge">effective_date</code> &amp; <code class="language-plaintext highlighter-rouge">expiration_date</code>)</li>
      <li>Step 3) <code class="language-plaintext highlighter-rouge">is_current</code> column is optional.</li>
    </ul>
  </li>
</ul>

<h1 id="type-3-additional-attributes">Type 3: Additional Attributes</h1>

<p><img src="/assets/2024-01-02-data-warehouse-07/additional-attributes.png" alt="" /></p>

<ul>
  <li>Instead of adding a row, we <strong>add a column</strong>.</li>
  <li>Enables to switch between historical &amp; current views.</li>
  <li>Itâ€™s typically used for significant changes at a time.
    <ul>
      <li>i.e., Restructuring in an organization</li>
    </ul>
  </li>
  <li>ğŸ‘ <strong>Disadvantages</strong>
    <ul>
      <li>Minor Changes â¡ï¸ Type 1 is better.</li>
      <li>Frequent or Unpredictable Changes â¡ï¸ Type 2 is better.</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="published-by-joshua-kim"><em>Published by</em> Joshua Kim</h2>
<p><img src="/assets/profile/joshua-profile.png" alt="Joshua Kim" /></p>]]></content><author><name></name></author><category term="SQL" /><category term="Data Warehouse" /><summary type="html"><![CDATA[In this article, Iâ€™ll summarize key takeaways from: SECTION 07. Slowly Changing Dimensions]]></summary></entry><entry><title type="html">ë°ì´í„° ë¶„ì„ê°€ì˜ SQL ìµœì í™” ì¼ê¸°: ì½”í˜¸íŠ¸ ë¦¬í…ì…˜ Batch Query ë§Œë“¤ê¸°</title><link href="http://localhost:4000/retention-batch-query/" rel="alternate" type="text/html" title="ë°ì´í„° ë¶„ì„ê°€ì˜ SQL ìµœì í™” ì¼ê¸°: ì½”í˜¸íŠ¸ ë¦¬í…ì…˜ Batch Query ë§Œë“¤ê¸°" /><published>2024-01-01T00:00:00+09:00</published><updated>2024-01-01T00:00:00+09:00</updated><id>http://localhost:4000/retention-batch-query</id><content type="html" xml:base="http://localhost:4000/retention-batch-query/"><![CDATA[<blockquote>
  <p>ì½”í˜¸íŠ¸ ë¦¬í…ì…˜ì˜ ì˜ë¯¸ì™€ ì¤‘ìš”ì„±ì— ëŒ€í•´ ë§ì”€ë“œë¦¬ê³ , Batch Queryë¥¼ ì‚¬ìš©í•˜ì—¬ íšŒì›ê°€ì… ì›” ì½”í˜¸íŠ¸ ë³„ë¡œ Monthly Range Retentionì„ ê³„ì‚°í•˜ëŠ” ë°©ë²•ì„ ì œì‹œí•´ë“œë¦´ê²Œìš”.</p>
</blockquote>

<h3 id="contents">CONTENTS</h3>
<ol>
  <li>ì½”í˜¸íŠ¸ ë¦¬í…ì…˜ì˜ ì˜ë¯¸ì™€ ì¤‘ìš”ì„±
    <ul>
      <li>1.1. ë¦¬í…ì…˜</li>
      <li>1.2. ì½”í˜¸íŠ¸</li>
      <li>1.3. ì½”í˜¸íŠ¸ ë¦¬í…ì…˜</li>
      <li>1.4. ì½”í˜¸íŠ¸ ë¦¬í…ì…˜ì˜ ì¤‘ìš”ì„±</li>
    </ul>
  </li>
  <li>ì¿¼ë¦¬ ì‘ì—… ëª©í‘œ</li>
  <li>ì¼íšŒì„± ì¿¼ë¦¬ë¬¸
    <ul>
      <li>3.1. ì¿¼ë¦¬ë¬¸ ë³´ê¸°</li>
      <li>3.2. ë¬¸ì œì </li>
    </ul>
  </li>
  <li>í•´ê²° ì•„ì´ë””ì–´</li>
  <li>Batch Queryë¥¼ í†µí•´ ì ‘ê·¼í•˜ê¸°</li>
  <li>ê²°ë¡ </li>
</ol>

<hr />

<h3 id="disclaimer">DISCLAIMER</h3>
<p>ë³¸ ì•„í‹°í´ì€ í•„ìì˜ ì „/í˜„ ì¬ì§ ê¸°ì—…ì˜ ë°ì´í„° ë¶„ì„ í˜„í™©ê³¼ ê´€ë ¨ì´ ì—†ìœ¼ë©°, ë‹¨ì§€ í‰ì†Œì— ë¬¸ì œ ì˜ì‹ì„ ì§€ë…”ë˜ ì ì— ëŒ€í•œ í•´ê²° ë°©ë²•ì„ ìŠ¤ìŠ¤ë¡œ ë„ì¶œí•´ë³¸ ë‚´ìš©ì…ë‹ˆë‹¤. ì¿¼ë¦¬ë¬¸ ì‘ì„±ì— ë‹¤ë¥¸ ì™¸ë¶€ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì°¸ê³ í•˜ì§€ ì•Šì•˜ìœ¼ë©°, ë¶„ì„ í™˜ê²½ì— ë”°ë¼ ë³¸ ë‚´ìš©ì´ ì í•©í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë°˜ë“œì‹œ ë¹„íŒì  ê³ ì°°ì„ í•´ì£¼ì‹œë©´ ê°ì‚¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</p>

<h1 id="1-ì½”í˜¸íŠ¸-ë¦¬í…ì…˜ì˜-ì˜ë¯¸ì™€-ì¤‘ìš”ì„±">1. ì½”í˜¸íŠ¸ ë¦¬í…ì…˜ì˜ ì˜ë¯¸ì™€ ì¤‘ìš”ì„±</h1>

<h3 id="11-ë¦¬í…ì…˜">1.1. ë¦¬í…ì…˜</h3>

<p>ë¨¼ì €, ë¦¬í…ì…˜ì€ â€œì‹œê°„ì´ íë¦„ì— ë”°ë¼ ì–¼ë§ˆë‚˜ ë§ì€ ì‚¬ìš©ìë“¤ì´ ìš°ë¦¬ í”„ë¡œë•íŠ¸ì— ì¬ì°¸ì—¬í•˜ëŠ”ì§€â€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì§€í‘œì…ë‹ˆë‹¤. ì´ë¯¸ ë§ì€ ë¶„ë“¤ì´ ì•„ì‹œë“¯ ë¦¬í…ì…˜ì€ PMFë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ë¶„ì„í•´ì•¼ í•  ì¤‘ìš”í•œ ì§€í‘œì…ë‹ˆë‹¤. ì´ ì •ì˜ê°€ ê½¤ë‚˜ ê°„ë‹¨í•´ë³´ì´ì§€ë§Œ, ì¸¡ì •í•˜ëŠ” ê³¼ì •ì—ì„œ ì‹¤ìƒì€ ê·¸ë ‡ì§€ ì•ŠìŠµë‹ˆë‹¤. â€œì¬ì°¸ì—¬â€ë¥¼ â€œì¬â€ì™€ â€œì°¸ì—¬â€ë¡œ ë‚˜ëˆ„ì–´ ê°ê°ì˜ ì‚¬ì „ ì •ì˜ê°€ ì´ë£¨ì–´ì ¸ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>

<p><strong>â€œì°¸ì—¬â€ ê°œë… ì •ì˜í•˜ê¸°</strong></p>

<p>ì‚¬ìš©ìê°€ ìš°ë¦¬ í”„ë¡œë•íŠ¸ì— â€œì°¸ì—¬â€í•œë‹¤ëŠ” ê²ƒì´ ì •í™•íˆ ì–´ë–¤ ìˆœê°„ì¸ì§€ ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì ‘ì†, 30ì´ˆ ì´ìƒ ì„¸ì…˜ ìœ ì§€, íŠ¹ì • í¼ë„ ë‹¨ê³„ ë„ë‹¬ ë“± ì—¬ëŸ¬ ì´ë²¤íŠ¸ ì¤‘ í•˜ë‚˜ê°€ â€œì°¸ì—¬â€ë¡œ ê°„ì£¼ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì €ëŠ” ê°œì¸ì ìœ¼ë¡œ ì•„ë˜ 3ê°€ì§€ ì¸¡ë©´ ì •ì˜ë¥¼ ëª¨ë‘ ì‚¬ì „ì— ì¤€ë¹„í•˜ì—¬ Target Metricì— ë”°ë¼ ì ì‹œì ì†Œì— ëª¨ë‹ˆí„°ë§í•˜ëŠ” ê²ƒì´ í•„ìš”í•˜ë‹¤ê³  ëŠê¼ˆìŠµë‹ˆë‹¤.</p>

<p>(1) â€œì ‘ì†â€ì„ í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œ ì°¸ì—¬í•œ ê²ƒìœ¼ë¡œ ê°„ì£¼í•˜ì!</p>
<ul>
  <li>DAU, WAU, MAU, Stickiness ë“±ì˜ ì§€í‘œì™€ ì§ì ‘ì ìœ¼ë¡œ ì—°ê´€ëœ ì •ì˜ ë°©ë²•ì´ë©°, ê´‘ê³  ë…¸ì¶œ íš¨ê³¼ë¥¼ ê·¹ëŒ€í™”í•˜ëŠ” ê²½ìš° ìœ ìš©í•©ë‹ˆë‹¤.</li>
</ul>

<p>(2) â€œêµ¬ë§¤â€ê¹Œì§€ í•´ì•¼ ì°¸ì—¬í•œ ê²ƒìœ¼ë¡œ ê°„ì£¼í•˜ì!</p>
<ul>
  <li>ì¬êµ¬ë§¤ìœ¨ ë“±ì˜ ì§€í‘œì™€ ì§ì ‘ì ìœ¼ë¡œ ì—°ê´€ëœ ì •ì˜ ë°©ë²•ì´ë©°, Recurring Revenueê°€ ì¤‘ìš”í•œ í”„ë¡œë•íŠ¸ì—ì„œ ì¤‘ìš”í•©ë‹ˆë‹¤.</li>
</ul>

<p>(3) â€œì•„í•˜ ëª¨ë¨¼íŠ¸â€ì— ë„ë‹¬í•´ì•¼ ì°¸ì—¬í•œ ê²ƒìœ¼ë¡œ ê°„ì£¼í•˜ì!</p>
<ul>
  <li><a href="https://www.youtube.com/watch?v=0KgOCKJ1PG4">í† ìŠ¤ì˜ ì´ìŠ¹ê±´ ëŒ€í‘œë‹˜ì— ë”°ë¥´ë©´</a>, ì•„í•˜ ëª¨ë¨¼íŠ¸ë€ í”„ë¡œë•íŠ¸ì˜ í•µì‹¬ ê°€ì¹˜ì˜ ê²½í—˜í•˜ëŠ” ìˆœê°„ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</li>
  <li>X, Y, Zì˜ ì¡°í•©ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ì—¬ëŸ¬ ê°€ì§€ â€œX ì´ë²¤íŠ¸ë¥¼ Y ê¸°ê°„ ë‚´ì— Zë²ˆ ìˆ˜í–‰í•œë‹¤â€ ì¤‘ ë¦¬í…ì…˜ì´ ê·¹ëª…í•˜ê²Œ ë†’ì€(ê°€ë ¹, 95%) í•­ëª©ì„ ì‚¬ì „ì— ë°œê²¬í•˜ì—¬, ë¹ ë¥´ê²Œ PMFë¥¼ ë‹¬ì„±í•´ì•¼ í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.</li>
</ul>

<p><strong>â€œì¬â€ ê°œë… ì •ì˜í•˜ê¸°</strong></p>

<p>ì‚¬ìš©ìê°€ ë³µê·€í–ˆë‹¤ëŠ” ê²ƒì„ ì–´ë–»ê²Œ ê³„ì‚°í•  ê²ƒì¸ê°€ì— ëŒ€í•œ ì •ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤. <a href="https://product.kyobobook.co.kr/detail/S000001766457">ì–‘ìŠ¹í™”ë‹˜ì˜ ê·¸ë¡œìŠ¤í•´í‚¹ì— ë”°ë¥´ë©´</a>, Classic Retention, Range Retention, Rolling Retention ì¤‘ í”„ë¡œë•íŠ¸ì˜ íŠ¹ì„±ì— ë”°ë¼ ì ì ˆí•œ ë°©ë²•ì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>(1) Classic Retention: ì‚¬ìš©ìê°€ ìµœì´ˆë¡œ â€œì°¸ì—¬â€í•œ Day 0 ì´í›„, ê° Day N ë³„ë¡œ í•œ ë²ˆ ë” â€œì°¸ì—¬â€í–ˆëŠ”ì§€ ê³„ì‚°í•©ë‹ˆë‹¤.</p>

<p>(2) Range Retention: Day Nì´ ì•„ë‹ˆë¼ Week N, Bi-week N, Month N ë³„ë¡œ í•œ ë²ˆ ë” â€œì°¸ì—¬â€í–ˆëŠ”ì§€ ê³„ì‚°í•©ë‹ˆë‹¤.</p>

<p>(3) Rolling Retention: Day N ì´í›„ì— í•œ ë²ˆì´ë¼ë„ â€œì°¸ì—¬â€í•œ ê²½ìš°ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤. (ì´íƒˆë¥ ì˜ ë°˜ëŒ€ ê°œë…)</p>

<p><strong>ì´ëŸ¬í•œ ì •ì˜ì™€ ì¸¡ì • ë°©ë²•ì„ í†µí•´ íš¨ê³¼ì ì¸ ë¦¬í…ì…˜ ì§€í‘œ ì¸¡ì •ì´ ê°€ëŠ¥í•´ì§ˆ ê²ƒì…ë‹ˆë‹¤.</strong></p>

<h3 id="12-ì½”í˜¸íŠ¸">1.2. ì½”í˜¸íŠ¸</h3>

<p>ì½”í˜¸íŠ¸ì˜ ê°œë…ì„ ë‘ ê°€ì§€ë¡œ í˜¼ìš©í•˜ëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤.</p>
<ol>
  <li><em>â€œì½”í˜¸íŠ¸ëŠ” ì„¸ê·¸ë¨¼íŠ¸ë‹¤. ì¦‰, ì‚¬ìš©ìê°€ ì§€ë‹Œ ì—¬ëŸ¬ ê°€ì§€ Feature ì¡°í•©ì„ í†µí•´ ê·¸ë£¹í™”ëœ í´ëŸ¬ìŠ¤í„°ë‹¤.â€</em></li>
  <li><em>â€œì½”í˜¸íŠ¸ëŠ” ì„¸ê·¸ë¨¼íŠ¸ì˜ ì¼ë¶€ë¡œì„œ, íŠ¹ì • ì´ë²¤íŠ¸ì˜ ìµœì´ˆ ìˆ˜í–‰ì¼ì‹œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê·¸ë£¹í™”ëœ í´ëŸ¬ìŠ¤í„°ë‹¤.â€ (ìµœì´ˆ í”„ë¡œë•íŠ¸ ë°©ë¬¸ì¼, íšŒì›ê°€ì…ì¼, ìµœì´ˆ ê²°ì œì¼ ë“±)</em></li>
</ol>

<p>ê°œì¸ì ìœ¼ë¡œëŠ” ì„¸ê·¸ë¨¼íŠ¸ì™€ì˜ í˜¼ë™ì„ ì¤„ì´ê¸° ìœ„í•´ 2ë²ˆì˜ ê°œë…ì„ ì„ í˜¸í•˜ì§€ë§Œ, ì½”í˜¸íŠ¸ë¥¼ ìœµí†µì„± ìˆê²Œ ì„¤ì •í•˜ê¸° ìœ„í•´ 1ë²ˆ ê°œë…ì—ì„œ ì–¸ê¸‰í•œ ë‹¤ë¥¸ Feature ì¡°í•©ë„ ì„ íƒì ìœ¼ë¡œ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” â€œì—´ë¦° ê°œë…â€ìœ¼ë¡œ ë°›ì•„ë“¤ì´ê³  ìˆìŠµë‹ˆë‹¤.</p>

<ul>
  <li>ì˜ˆì‹œ 1) ì‚¬ìš©ìë¥¼ ìµœì´ˆ í”„ë¡œë•íŠ¸ ë°©ë¬¸ì¼ ê¸°ì¤€ìœ¼ë¡œ ê·¸ë£¹í™”í•œë‹¤. â†’ ì½”í˜¸íŠ¸ O</li>
  <li>ì˜ˆì‹œ 2) ì‚¬ìš©ìë¥¼ ìµœì´ˆ ì ‘ì† êµ­ê°€ ê¸°ì¤€ìœ¼ë¡œ ê·¸ë£¹í™”í•œë‹¤. â†’ ì½”í˜¸íŠ¸ X</li>
  <li>ì˜ˆì‹œ 3) ì‚¬ìš©ìë¥¼ ìµœì´ˆ í”„ë¡œë•íŠ¸ ë°©ë¬¸ì¼ ë° ì ‘ì† êµ­ê°€ ê¸°ì¤€ìœ¼ë¡œ ê·¸ë£¹í™”í•œë‹¤. â†’ ì½”í˜¸íŠ¸ O</li>
</ul>

<p>ì´ë ‡ê²Œ í•˜ë©´ íŠ¹ì • ì´ë²¤íŠ¸ì˜ ìµœì´ˆ ìˆ˜í–‰ì¼ì‹œë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í•˜ë©´ì„œë„ ë‹¤ì–‘í•œ íŠ¹ì„±ì„ ê³ ë ¤í•  ìˆ˜ ìˆì–´ì„œ ì½”í˜¸íŠ¸ë¥¼ ë³´ë‹¤ ìœ ì—°í•˜ê²Œ í™œìš©í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.</p>

<h3 id="13-ì½”í˜¸íŠ¸-ë¦¬í…ì…˜">1.3. ì½”í˜¸íŠ¸ ë¦¬í…ì…˜</h3>

<p>ì½”í˜¸íŠ¸ ë¦¬í…ì…˜ì´ë€, ê¸°ì¡´ì˜ ë¦¬í…ì…˜ ê°œë…ì„ ì½”í˜¸íŠ¸ì— ë”°ë¼ ì‹œë¦¬ì¦ˆë¥¼ ë‹¬ë¦¬í•˜ì—¬ ê³„ì‚°í•œ ì§€í‘œë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´, ìµœì´ˆ í”„ë¡œë•íŠ¸ ë°©ë¬¸ì¼ì„ ê¸°ì¤€ìœ¼ë¡œ ì‚¬ìš©ìë“¤ì˜ ë¦¬í…ì…˜ì´ ìƒìŠ¹ ì¶”ì„¸ì¸ì§€, í˜¹ì€ í•˜ë½ ì¶”ì„¸ì¸ì§€ë¥¼ ì•Œ ìˆ˜ ìˆëŠ” ê²ƒì´ì£ .</p>

<h3 id="14-ì½”í˜¸íŠ¸-ë¦¬í…ì…˜ì˜-ì¤‘ìš”ì„±">1.4. ì½”í˜¸íŠ¸ ë¦¬í…ì…˜ì˜ ì¤‘ìš”ì„±</h3>

<p>ì•„ë˜ì˜ ë¦¬í…ì…˜ ì§€í‘œë¥¼ í†µí•´ PMF ë‹¬ì„± ì—¬ë¶€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì§€ë§Œ, ë¬¸ì œë¥¼ íŒŒì•…í•˜ê±°ë‚˜ ì•¡ì…˜ í¬ì¸íŠ¸ë¥¼ ë„ì¶œí•˜ëŠ” ë°ëŠ” ê·¸ë‹¤ì§€ ë„ì›€ì´ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>

<p><img src="/assets/2024-01-01-retention-batch-query/retention.webp" alt="" /></p>
<blockquote>
  <p><a href="https://mermaid.js.org/syntax/xyChart.html">mermaid</a>ë¥¼ í†µí•´ í•„ìê°€ ì§ì ‘ ì‘ì„±</p>
</blockquote>

<p>ê·¸ëŸ¬ë‚˜ ì½”í˜¸íŠ¸ ë¦¬í…ì…˜ ê°’ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤ë©´, í”„ë¡œë•íŠ¸ì˜ ê¸°ëŠ¥ ì—…ë°ì´íŠ¸ë‚˜ ìº í˜ì¸ ë¡ ì¹­ ë“±ì— ë”°ë¥¸ ì‚¬í›„ íš¨ê³¼ë¥¼ í™•ì¸í•˜ê³ , ë¦¬í…ì…˜ í–¥ìƒì„ ìœ„í•´ ìš°ë¦¬ê°€ ì–´ë–¤ ì•¡ì…˜ì— ì¢€ ë” ì§‘ì¤‘í•´ì•¼ í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ë° ë„ì›€ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p><img src="/assets/2024-01-01-retention-batch-query/cohort-retention.webp" alt="" /></p>
<blockquote>
  <p><a href="https://mermaid.js.org/syntax/xyChart.html">mermaid</a>ë¥¼ í†µí•´ í•„ìê°€ ì§ì ‘ ì‘ì„±</p>
</blockquote>

<h1 id="2-ì¿¼ë¦¬-ì‘ì—…-ëª©í‘œ">2. ì¿¼ë¦¬ ì‘ì—… ëª©í‘œ</h1>

<p>ì¿¼ë¦¬ ì‘ì—… ëª©í‘œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ì•„ë˜ì™€ ê°™ì€ í…Œì´ë¸”ì„ ëŒ€ì‹œë³´ë“œì— ë°˜ì˜í•´ë³´ê³ ì í•©ë‹ˆë‹¤. ì¦‰, íšŒì›ê°€ì… ì—°ì›”(YYYY-MM) ì½”í˜¸íŠ¸ë³„ ë¦¬í…ì…˜(Monthly Range)í…Œì´ë¸”ì„ ë°°í¬í•˜ì—¬ ë‹¤ì–‘í•œ ì´í•´ë‹¹ì‚¬ì ë¶„ë“¤ì´ ë¦¬í…ì…˜ ì§€í‘œì˜ ì‹œê³„ì—´ ì¶”ì´ë¥¼ í™•ì¸í•˜ì‹œëŠ” ë° ë„ì›€ì„ ë“œë¦¬ë ¤ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>

<p><img src="/assets/2024-01-01-retention-batch-query/task-goal.webp" alt="" /></p>
<blockquote>
  <p>ì œê°€ ì§ì ‘ ìƒ˜í”Œë¡œ ë§Œë“¤ì–´ë³¸ ìœ„ í…Œì´ë¸”ì—ì„œëŠ” ì‹œê°„ì´ íë¥¼ìˆ˜ë¡ ë¦¬í…ì…˜ì´ í–¥ìƒë˜ëŠ” ì¶”ì´ë¥¼ ë³´ì—¬ì£¼ê³  ìˆêµ°ìš”.</p>
</blockquote>

<p>ê·¸ëŸ°ë°, ìœ„ì™€ ê°™ì€ í…Œì´ë¸”ì„ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” SQLì˜ ìµœí›„ ì¶œë ¥ ìƒíƒœê°€ ë‹¤ìŒê³¼ ê°™ì€ Unpivotedí•œ í˜•íƒœê°€ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ë¬¼ë¡  Pivotedí•œ í˜•íƒœë¡œ ì§ì ‘ ì¶œë ¥í•˜ëŠ” ë°©ë²•ë„ ìˆì§€ë§Œ, ì˜¤ëŠ˜ì˜ í† í”½ì¸ â€œBatch Query ë§Œë“¤ê¸°â€ë¥¼ ìœ„í•´ì„œëŠ” Unpivotedí•œ í˜•íƒœê°€ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. Tableì„ Updateë¥¼ ë°©ì§€í•˜ê³ , ì˜¤ë¡œì§€ Insert ì‘ì—…ë§Œ ìˆ˜í–‰í•¨ìœ¼ë¡œì¨ ì—°ì‚° ë¶€í•˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•¨ì¸ë°ìš”. ì§€ê¸ˆë¶€í„° ì°¨ì°¨ ì½ì–´ê°€ì‹œë©´ ì´í•´ê°€ ë˜ì‹¤ ê²ë‹ˆë‹¤.</p>

<p><img src="/assets/2024-01-01-retention-batch-query/last-query-results.webp" alt="" /></p>
<blockquote>
  <p>í•„ìê°€ ì§ì ‘ ì‘ì„±</p>
</blockquote>

<h1 id="3-ì¼íšŒì„±-ì¿¼ë¦¬ë¬¸">3. ì¼íšŒì„± ì¿¼ë¦¬ë¬¸</h1>

<h3 id="31-ì¿¼ë¦¬ë¬¸-ë³´ê¸°">3.1. ì¿¼ë¦¬ë¬¸ ë³´ê¸°</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">WITH</span>

<span class="c1">-- 1. ì‚¬ìš©ìë“¤ì˜ "ì°¸ì—¬" (íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ ì´ë²¤íŠ¸) ì†ŒìŠ¤ í…Œì´ë¸”ì„ ë¶ˆëŸ¬ì˜¨ë‹¤.</span>
<span class="n">CTE_engagements</span> <span class="k">AS</span> <span class="p">(</span>
    <span class="k">SELECT</span>
        <span class="n">user_id</span><span class="p">,</span>
        <span class="n">DATE_TRUNC</span><span class="p">(</span><span class="s1">'DAY'</span><span class="p">,</span> <span class="nb">datetime</span><span class="p">)</span> <span class="k">AS</span> <span class="nb">date</span>
    <span class="k">FROM</span>
        <span class="n">signups_logins</span>
    <span class="k">GROUP</span> <span class="k">BY</span>
        <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="p">),</span>

<span class="c1">-- 2. ì‚¬ìš©ìë“¤ì„ íšŒì›ê°€ì…ì¼ ê¸°ì¤€ì˜ ì½”í˜¸íŠ¸ë¡œ Labelingí•´ì¤€ë‹¤.</span>
<span class="n">CTE_cohorts</span> <span class="k">AS</span> <span class="p">(</span>
    <span class="k">SELECT</span>
        <span class="n">user_id</span><span class="p">,</span>
        <span class="k">MIN</span><span class="p">(</span><span class="nb">date</span><span class="p">)</span> <span class="k">AS</span> <span class="n">cohort_date</span>
    <span class="k">FROM</span>
        <span class="n">CTE_engagements</span>
    <span class="k">GROUP</span> <span class="k">BY</span>
        <span class="mi">1</span>
<span class="p">),</span>

<span class="c1">-- 3. ì‚¬ìš©ìë“¤ì˜ "ì°¸ì—¬" í…Œì´ë¸”ê³¼ "ì½”í˜¸íŠ¸ Labeling" í…Œì´ë¸”ì„ ì¡°ì¸í•˜ì—¬ "Day N"ë„ í•¨ê»˜ í‘œì‹œí•´ì¤€ë‹¤.</span>
<span class="n">CTE_engagements_with_cohorts_daily</span> <span class="k">AS</span> <span class="p">(</span>
    <span class="k">SELECT</span>
        <span class="n">ENG</span><span class="p">.</span><span class="n">user_id</span><span class="p">,</span>
        <span class="n">ENG</span><span class="p">.</span><span class="nb">date</span><span class="p">,</span>
        <span class="n">COH</span><span class="p">.</span><span class="n">cohort_date</span><span class="p">,</span>
        <span class="n">DATE_DIFF</span><span class="p">(</span>
            <span class="n">ENG</span><span class="p">.</span><span class="nb">date</span><span class="p">,</span>
            <span class="n">COH</span><span class="p">.</span><span class="n">cohort_date</span><span class="p">,</span>
            <span class="k">DAY</span>
        <span class="p">)</span> <span class="k">AS</span> <span class="n">day_n</span>
    <span class="k">FROM</span>
        <span class="n">CTE_engagements</span> <span class="n">ENG</span>
    <span class="k">LEFT</span> <span class="k">JOIN</span>
        <span class="n">CTE_cohorts</span> <span class="n">COH</span>
        <span class="k">USING</span> <span class="p">(</span><span class="n">user_id</span><span class="p">)</span>
<span class="p">),</span>

<span class="c1">-- 4. "Day N"ì„ "Month N"ìœ¼ë¡œ ë³€í™˜í•´ì¤€ë‹¤.</span>
<span class="n">CTE_engagements_with_cohorts_monthly</span> <span class="k">AS</span> <span class="p">(</span>
    <span class="k">SELECT</span>
        <span class="n">user_id</span><span class="p">,</span>
        <span class="n">DATE_TRUNC</span><span class="p">(</span><span class="s1">'MONTH'</span><span class="p">,</span> <span class="nb">date</span><span class="p">)</span> <span class="k">AS</span> <span class="n">yyyymm</span><span class="p">,</span>
        <span class="n">DATE_TRUNC</span><span class="p">(</span><span class="s1">'MONTH'</span><span class="p">,</span> <span class="n">cohort_date</span><span class="p">)</span> <span class="k">AS</span> <span class="n">cohort_yyyymm</span><span class="p">,</span>
        <span class="n">DATE_DIFF</span><span class="p">(</span>
            <span class="nb">date</span><span class="p">,</span>
            <span class="n">cohort_date</span><span class="p">,</span>
            <span class="k">MONTH</span>
        <span class="p">)</span> <span class="k">AS</span> <span class="n">month_n</span>
    <span class="k">FROM</span>
        <span class="n">CTE_engagements_with_cohorts_daily</span>
<span class="p">),</span>

<span class="c1">-- 5. ì½”í˜¸íŠ¸ ë° "Month N" ê¸°ì¤€ìœ¼ë¡œ ì‚¬ìš©ì ìˆ˜ë¥¼ ì§‘ê³„í•œë‹¤.</span>
<span class="n">CTE_month_n_cnt</span> <span class="k">AS</span> <span class="p">(</span>
    <span class="k">SELECT</span>
        <span class="n">cohort_yyyymm</span><span class="p">,</span>
        <span class="n">month_n</span><span class="p">,</span>
        <span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="n">user_id</span><span class="p">)</span> <span class="k">AS</span> <span class="n">users_cnt</span>
    <span class="k">FROM</span>
        <span class="n">CTE_engagements_with_cohorts_monthly</span>
    <span class="k">GROUP</span> <span class="k">BY</span>
        <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="p">),</span>

<span class="c1">-- 6. ìµœì¢… ë¦¬í…ì…˜ì„ ê³„ì‚°í•œë‹¤.</span>
<span class="n">CTE_monthly_retention</span> <span class="k">AS</span> <span class="p">(</span>
    <span class="k">SELECT</span>
        <span class="n">cohort_yyyymm</span><span class="p">,</span>
        <span class="n">month_n</span><span class="p">,</span>
        <span class="k">CAST</span><span class="p">(</span><span class="n">users_cnt</span> <span class="k">AS</span> <span class="nb">DOUBLE</span><span class="p">)</span>
        <span class="o">/</span>
        <span class="k">CAST</span><span class="p">(</span><span class="n">FIRST_VALUE</span><span class="p">(</span><span class="n">users_cnt</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span>
            <span class="k">PARTITION</span> <span class="k">BY</span> <span class="n">cohort_yyyymm</span>
            <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">month_n</span>
            <span class="k">ROWS</span> <span class="k">BETWEEN</span> <span class="n">UNBOUNDED</span> <span class="k">PRECEDING</span> <span class="k">AND</span> <span class="n">UNBOUNDED</span> <span class="k">FOLLOWING</span>
            <span class="p">)</span> <span class="k">AS</span> <span class="nb">DOUBLE</span>
        <span class="p">)</span> <span class="k">AS</span> <span class="n">monthly_retention</span>
    <span class="k">FROM</span>
        <span class="n">CTE_month_n_cnt</span>
    <span class="k">ORDER</span> <span class="k">BY</span>
        <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="p">)</span>
<span class="k">SELECT</span>
    <span class="o">*</span>
<span class="k">FROM</span>
    <span class="n">CTE_monthly_retention</span>
<span class="p">;</span>
</code></pre></div></div>

<h3 id="32-ë¬¸ì œì ">3.2. ë¬¸ì œì </h3>

<p>ìœ„ ì¿¼ë¦¬ë¬¸ì˜ ì¶œë ¥ ê²°ê³¼ëŠ” ì•ì„œ ì ê¹ ë³´ì—¬ë“œë¦° ì•„ë˜ì™€ ê°™ì€ í˜•íƒœì˜ í…Œì´ë¸”ì„ ì¶œë ¥í•©ë‹ˆë‹¤. ê·¸ëŸ°ë°, ë§¤ë²ˆ ì „ì²´ ì†ŒìŠ¤ í…Œì´ë¸”ì„ ë©”ëª¨ë¦¬ì— ì˜¬ë ¤ ë¦¬í…ì…˜ì„ ê³„ì‚°í•˜ë ¤ë©´ ì—°ì‚°ëŸ‰ì´ ê³¼ë„í•˜ê²Œ ë§ì´ ë“¤ì–´ ë¦¬ì†ŒìŠ¤ ë‚­ë¹„ë¡œ ì´ì–´ì§€ê²Œ ë©ë‹ˆë‹¤.</p>

<p><img src="/assets/2024-01-01-retention-batch-query/last-query-results.webp" alt="" /></p>
<blockquote>
  <p>í•„ìê°€ ì§ì ‘ ì‘ì„±</p>
</blockquote>

<h1 id="4-í•´ê²°-ì•„ì´ë””ì–´">4. í•´ê²° ì•„ì´ë””ì–´</h1>

<p>ë§ˆì¹¨, Cohort ì¹¼ëŸ¼ê³¼ Month ì¹¼ëŸ¼ì´ ì‹œê³„ì—´ í˜•ì‹ì„ ì§€ë‹ˆê³  ìˆìœ¼ë¯€ë¡œ ë¯¸ë˜ì˜ ë°ì´í„°ê°€ ê³¼ê±°ì˜ ë°ì´í„°ì— ì˜í–¥ì„ ë¼ì¹  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë˜í•œ, ì¶œë ¥ëœ í…Œì´ë¸”ì€  <a href="https://www.kimballgroup.com/data-warehouse-business-intelligence-resources/kimball-techniques/dimensional-modeling-techniques/periodic-snapshot-fact-table/">Periodic Snapshot Fact Table</a>ì˜ ìœ í˜•ì— í•´ë‹¹í•©ë‹ˆë‹¤. ë°”ë¡œ ì´ ì ìœ¼ë¡œë¶€í„° ìš°ë¦¬ëŠ” Batch Queryë¥¼ í™œìš©í•  ìˆ˜ ìˆëŠ” ì—¬ì§€ë¥¼ ë°œê²¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰, ì•„ë˜ì™€ ê°™ì´ ë§¤ì›” 1ì¼ 00:01 UTCë§ˆë‹¤ ìƒˆë¡­ê²Œ íšë“í•œ ë¦¬í…ì…˜ ê°’ë“¤ì„ Insertí•  ìˆ˜ ìˆëŠ” Batch Queryë¥¼ ì‘ì„±í•  ìˆ˜ ìˆëŠ” ê²ƒì…ë‹ˆë‹¤. íŠ¹íˆ ì´ë²¤íŠ¸ ë¡œê·¸ ë°ì´í„°ì˜ í¬ê¸°ê°€ ë§¤ìš° í° í”„ë¡œë•íŠ¸ë¥¼ ìš´ì˜í•˜ê³  ìˆë‹¤ë©´, êµ³ì´ ë§¤ë²ˆ ì¼íšŒì„± ì¿¼ë¦¬ë¬¸ì„ ì‹¤í–‰í•  í•„ìš”ê°€ ì—†ëŠ” ì…ˆì´ì£ .</p>

<p><img src="/assets/2024-01-01-retention-batch-query/idea.webp" alt="" /></p>
<blockquote>
  <p>ì¦‰, ë§¤ì›” ì´ˆë§ˆë‹¤ ì¢Œì¸¡ í…Œì´ë¸”ì˜ ë¹¨ê°„ìƒ‰ ì˜ì—­ë“¤ì„ ìˆœì°¨ì ìœ¼ë¡œ ì‹ ê·œ ê³„ì‚°í•˜ì—¬ í…Œì´ë¸” Insert ìŠ¤ì¼€ì¤„ë§ì„ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” ê²ƒì´ì£ . (í•„ìê°€ ì§ì ‘ ì‘ì„±)</p>
</blockquote>

<h1 id="5-batch-queryë¥¼-í†µí•´-ì ‘ê·¼í•˜ê¸°">5. Batch Queryë¥¼ í†µí•´ ì ‘ê·¼í•˜ê¸°</h1>

<p><strong>STEP 1) ì‚¬ìš©ìë“¤ì˜ â€œì°¸ì—¬â€ ì†ŒìŠ¤ í…Œì´ë¸”ì„ ë¶ˆëŸ¬ì˜¨ë‹¤. (ë‹¨, í˜„ì¬ ì‹œì  ê¸°ì¤€ìœ¼ë¡œ 7ê°œì›” ì „ì˜ ì›”ì´ˆë¶€í„° 1ê°œì›” ì „ì˜ ì›”ë§ê¹Œì§€ í•­ëª©ë§Œ)</strong></p>

<p><img src="/assets/2024-01-01-retention-batch-query/step1.webp" alt="" /></p>
<blockquote>
  <p>í•„ìê°€ ì§ì ‘ ì‘ì„±</p>
</blockquote>

<ul>
  <li>ë¡œê·¸ì¸í–ˆì„ ë•Œ ì‚¬ìš©ìê°€ â€œì°¸ì—¬â€í–ˆë‹¤ê³  ê°€ì • í•˜ì—, ë¡œê·¸ì¸ ì´ë²¤íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤.</li>
  <li>ì½”í˜¸íŠ¸ëŠ” â€œíšŒì›ê°€ì…â€ ê¸°ì¤€ìœ¼ë¡œ ì •ì˜í•  ê²ƒì´ë¯€ë¡œ, íšŒì›ê°€ì… ì´ë²¤íŠ¸ë„ í•¨ê»˜ ë¶ˆëŸ¬ì˜¨ë‹¤.</li>
  <li>Monthly Range Retentionì€ Month 0ë¶€í„° Month 6ê¹Œì§€ë§Œ ê³„ì‚°í•œë‹¤.</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">WITH</span>  
  
<span class="c1">-- 1. ì‚¬ìš©ìë“¤ì˜ "ì°¸ì—¬" (íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ ì´ë²¤íŠ¸) ì†ŒìŠ¤ í…Œì´ë¸”ì„ ë¶ˆëŸ¬ì˜¨ë‹¤.  </span>
<span class="c1">-- (ë‹¨, í˜„ì¬ ì‹œì  ê¸°ì¤€ìœ¼ë¡œ 7ê°œì›” ì „ì˜ ì›”ì´ˆë¶€í„° 1ê°œì›” ì „ì˜ ì›”ë§ê¹Œì§€ í•­ëª©ë§Œ)  </span>
<span class="n">CTE_engagements</span> <span class="k">AS</span> <span class="p">(</span>  
    <span class="k">SELECT</span>  
        <span class="n">user_id</span><span class="p">,</span>  
        <span class="n">DATE_TRUNC</span><span class="p">(</span><span class="s1">'DAY'</span><span class="p">,</span> <span class="nb">datetime</span><span class="p">)</span> <span class="k">AS</span>  <span class="nb">date</span>  
    <span class="k">FROM</span>
        <span class="k">source</span><span class="p">.</span><span class="n">signups_logins</span>
    <span class="nv">"if is_incremental()"</span>
    <span class="k">WHERE</span>  
        <span class="c1">-- í˜„ì¬ ì‹œì  ê¸°ì¤€ìœ¼ë¡œ 7ê°œì›” ì „ì˜ ì›”ì´ˆë¶€í„° ~  </span>
        <span class="n">DATE_TRUNC</span><span class="p">(</span><span class="s1">'MONTH'</span><span class="p">,</span> <span class="k">CURRENT_DATE</span><span class="p">)</span> <span class="o">-</span> <span class="n">INTERVAL</span> <span class="s1">'7'</span> <span class="k">MONTH</span>  
        <span class="o">&lt;=</span> <span class="n">DATE_TRUNC</span><span class="p">(</span><span class="s1">'DAY'</span><span class="p">,</span> <span class="nb">datetime</span><span class="p">)</span>  
        <span class="c1">-- ~ í˜„ì¬ ì‹œì  ê¸°ì¤€ìœ¼ë¡œ 1ê°œì›” ì „ì˜ ì›”ë§ê¹Œì§€  </span>
        <span class="k">AND</span> <span class="n">DATE_TRUNC</span><span class="p">(</span><span class="s1">'DAY'</span><span class="p">,</span> <span class="nb">datetime</span><span class="p">)</span>  
        <span class="o">&lt;=</span> <span class="n">DATE_TRUNC</span><span class="p">(</span><span class="s1">'MONTH'</span><span class="p">,</span> <span class="k">CURRENT_DATE</span><span class="p">)</span> <span class="o">-</span> <span class="n">INTERVAL</span> <span class="s1">'1'</span> <span class="k">DAY</span>  
    <span class="nv">"endif"</span>
    <span class="k">GROUP</span> <span class="k">BY</span>  
        <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>  
<span class="p">),</span>
</code></pre></div></div>

<p><strong>STEP 2) ì‚¬ìš©ìë“¤ì„ íšŒì›ê°€ì…ì¼ ê¸°ì¤€ì˜ ì½”í˜¸íŠ¸ë¡œ Labelingí•´ì¤€ë‹¤.</strong></p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 2. ì‚¬ìš©ìë“¤ì„ íšŒì›ê°€ì…ì¼ ê¸°ì¤€ì˜ ì½”í˜¸íŠ¸ë¡œ Labelingí•´ì¤€ë‹¤.  </span>
<span class="n">CTE_cohorts</span> <span class="k">AS</span> <span class="p">(</span>  
    <span class="k">SELECT</span>  
        <span class="n">user_id</span><span class="p">,</span>  
        <span class="k">MIN</span><span class="p">(</span><span class="nb">date</span><span class="p">)</span> <span class="k">AS</span> <span class="n">cohort_date</span>  
    <span class="k">FROM</span>  
        <span class="n">CTE_engagements</span>  
    <span class="k">GROUP</span> <span class="k">BY</span>  
        <span class="mi">1</span>  
<span class="p">),</span>
</code></pre></div></div>

<p><strong>STEP 3) ì‚¬ìš©ìë“¤ì˜ â€œì°¸ì—¬â€ í…Œì´ë¸”ê³¼ â€œì½”í˜¸íŠ¸ Labelingâ€ í…Œì´ë¸”ì„ ì¡°ì¸í•˜ì—¬ â€œDay Nâ€ë„ í•¨ê»˜ í‘œì‹œí•´ì¤€ë‹¤.</strong></p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 3. ì‚¬ìš©ìë“¤ì˜ "ì°¸ì—¬" í…Œì´ë¸”ê³¼ "ì½”í˜¸íŠ¸ Labeling" í…Œì´ë¸”ì„ ì¡°ì¸í•˜ì—¬ "Day N"ë„ í•¨ê»˜ í‘œì‹œí•´ì¤€ë‹¤.  </span>
<span class="n">CTE_engagements_with_cohorts_daily</span> <span class="k">AS</span> <span class="p">(</span>  
    <span class="k">SELECT</span>  
        <span class="n">ENG</span><span class="p">.</span><span class="n">user_id</span><span class="p">,</span>  
        <span class="n">ENG</span><span class="p">.</span><span class="nb">date</span><span class="p">,</span>  
        <span class="n">COH</span><span class="p">.</span><span class="n">cohort_date</span><span class="p">,</span>  
        <span class="n">DATE_DIFF</span><span class="p">(</span>  
            <span class="n">ENG</span><span class="p">.</span><span class="nb">date</span><span class="p">,</span>  
            <span class="n">COH</span><span class="p">.</span><span class="n">cohort_date</span><span class="p">,</span>  
            <span class="k">DAY</span>  
        <span class="p">)</span> <span class="k">AS</span> <span class="n">day_n</span>  
    <span class="k">FROM</span>  
        <span class="n">CTE_engagements</span> <span class="n">ENG</span>  
    <span class="k">LEFT</span> <span class="k">JOIN</span>  
        <span class="n">CTE_cohorts</span> <span class="n">COH</span>  
        <span class="k">USING</span> <span class="p">(</span><span class="n">user_id</span><span class="p">)</span>  
<span class="p">),</span>
</code></pre></div></div>

<p><strong>STEP 4) â€œDay Nâ€ì„ â€œMonth Nâ€ìœ¼ë¡œ ë³€í™˜í•´ì¤€ë‹¤.</strong></p>
<ul>
  <li>Monthly Range Retentionì„ ê³„ì‚°í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 4. "Day N"ì„ "Month N"ìœ¼ë¡œ ë³€í™˜í•´ì¤€ë‹¤.  </span>
<span class="n">CTE_engagements_with_cohorts_monthly</span> <span class="k">AS</span> <span class="p">(</span>  
    <span class="k">SELECT</span>  
        <span class="n">user_id</span><span class="p">,</span>  
        <span class="n">DATE_TRUNC</span><span class="p">(</span><span class="s1">'MONTH'</span><span class="p">,</span> <span class="nb">date</span><span class="p">)</span> <span class="k">AS</span> <span class="n">yyyymm</span><span class="p">,</span>  
        <span class="n">DATE_TRUNC</span><span class="p">(</span><span class="s1">'MONTH'</span><span class="p">,</span> <span class="n">cohort_date</span><span class="p">)</span> <span class="k">AS</span> <span class="n">cohort_yyyymm</span><span class="p">,</span>  
        <span class="n">DATE_DIFF</span><span class="p">(</span>  
            <span class="nb">date</span><span class="p">,</span>  
            <span class="n">cohort_date</span><span class="p">,</span>  
            <span class="k">MONTH</span>  
        <span class="p">)</span> <span class="k">AS</span> <span class="n">month_n</span>  
    <span class="k">FROM</span>  
        <span class="n">CTE_engagements_with_cohorts_daily</span>  
<span class="p">),</span>
</code></pre></div></div>

<p><strong>STEP 5) ì½”í˜¸íŠ¸ ë° â€œMonth Nâ€ ê¸°ì¤€ìœ¼ë¡œ ì‚¬ìš©ì ìˆ˜ë¥¼ ì§‘ê³„í•œë‹¤.</strong></p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 5. ì½”í˜¸íŠ¸ ë° "Month N" ê¸°ì¤€ìœ¼ë¡œ ì‚¬ìš©ì ìˆ˜ë¥¼ ì§‘ê³„í•œë‹¤.  </span>
<span class="n">CTE_month_n_cnt</span> <span class="k">AS</span> <span class="p">(</span>  
    <span class="k">SELECT</span>  
        <span class="n">cohort_yyyymm</span><span class="p">,</span>  
        <span class="n">month_n</span><span class="p">,</span>  
        <span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="n">user_id</span><span class="p">)</span> <span class="k">AS</span> <span class="n">users_cnt</span>  
    <span class="k">FROM</span>  
        <span class="n">CTE_engagements_with_cohorts_monthly</span>  
    <span class="k">GROUP</span> <span class="k">BY</span>  
        <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>  
<span class="p">),</span>
</code></pre></div></div>

<p><strong>STEP 6) ìµœì¢… ë¦¬í…ì…˜ì„ ê³„ì‚°í•œë‹¤.</strong></p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 6. ìµœì¢… ë¦¬í…ì…˜ì„ ê³„ì‚°í•œë‹¤.  </span>
<span class="n">CTE_monthly_retention</span> <span class="k">AS</span> <span class="p">(</span>  
    <span class="k">SELECT</span>  
        <span class="n">cohort_yyyymm</span><span class="p">,</span>  
        <span class="n">month_n</span><span class="p">,</span>  
        <span class="k">CAST</span><span class="p">(</span><span class="n">users_cnt</span> <span class="k">AS</span> <span class="nb">DOUBLE</span><span class="p">)</span>  
        <span class="o">/</span>  
        <span class="k">CAST</span><span class="p">(</span><span class="n">FIRST_VALUE</span><span class="p">(</span><span class="n">users_cnt</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span>  
            <span class="k">PARTITION</span> <span class="k">BY</span> <span class="n">cohort_yyyymm</span>  
            <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">month_n</span>  
            <span class="k">ROWS</span> <span class="k">BETWEEN</span> <span class="n">UNBOUNDED</span> <span class="k">PRECEDING</span> <span class="k">AND</span> <span class="n">UNBOUNDED</span> <span class="k">FOLLOWING</span>  
        <span class="p">)</span>  
        <span class="k">AS</span> <span class="n">monthly_retention</span>  
    <span class="k">FROM</span>  
        <span class="n">CTE_month_n_cnt</span>  
    <span class="k">ORDER</span> <span class="k">BY</span>  
        <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>  
<span class="p">)</span>
</code></pre></div></div>

<p><strong>STEP 7) ì¤‘ë³µë˜ì§€ ì•Šì€ ì‹ ê·œ í•­ëª©ë“¤ë§Œ Insertí•  ìˆ˜ ìˆë„ë¡ ì¡°ê±´í™”í•œë‹¤.</strong></p>

<p><img src="/assets/2024-01-01-retention-batch-query/step7.webp" alt="" /></p>
<blockquote>
  <p>í•„ìê°€ ì§ì ‘ ì‘ì„±</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 7. ì¤‘ë³µë˜ì§€ ì•Šì€ ì‹ ê·œ í•­ëª©ë“¤ë§Œ Insertí•  ìˆ˜ ìˆë„ë¡ ì¡°ê±´í™”í•œë‹¤.  </span>
<span class="n">CTE_monthly_retention_inserted</span> <span class="k">AS</span> <span class="p">(</span>  
    <span class="k">SELECT</span>  
        <span class="o">*</span>  
    <span class="k">FROM</span>  
        <span class="n">CTE_monthly_retention</span>  
    <span class="nv">"if is_incremental()"</span>
    <span class="k">WHERE</span>  
        <span class="c1">-- í˜„ì¬ ì‹œì  ê¸°ì¤€ìœ¼ë¡œ 1ê°œì›” ì „ì˜ ì½”í˜¸íŠ¸: Month 0 ë¦¬í…ì…˜ ê°’ë§Œ Insertí•œë‹¤.  </span>
        <span class="p">(</span><span class="n">cohort_yyyymm</span> <span class="o">=</span> <span class="n">DATE_TRUNC</span><span class="p">(</span><span class="s1">'MONTH'</span><span class="p">,</span> <span class="k">CURRENT_DATE</span><span class="p">)</span> <span class="o">-</span> <span class="n">INTERVAL</span> <span class="s1">'1'</span> <span class="k">MONTH</span> <span class="k">AND</span> <span class="n">month_n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>  
        <span class="c1">-- í˜„ì¬ ì‹œì  ê¸°ì¤€ìœ¼ë¡œ 2ê°œì›” ì „ì˜ ì½”í˜¸íŠ¸: Month 1 ë¦¬í…ì…˜ ê°’ë§Œ Insertí•œë‹¤.  </span>
        <span class="k">OR</span> <span class="p">(</span><span class="n">cohort_yyyymm</span> <span class="o">=</span> <span class="n">DATE_TRUNC</span><span class="p">(</span><span class="s1">'MONTH'</span><span class="p">,</span> <span class="k">CURRENT_DATE</span><span class="p">)</span> <span class="o">-</span> <span class="n">INTERVAL</span> <span class="s1">'2'</span> <span class="k">MONTH</span> <span class="k">AND</span> <span class="n">month_n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>  
        <span class="c1">-- í˜„ì¬ ì‹œì  ê¸°ì¤€ìœ¼ë¡œ 3ê°œì›” ì „ì˜ ì½”í˜¸íŠ¸: Month 2 ë¦¬í…ì…˜ ê°’ë§Œ Insertí•œë‹¤.  </span>
        <span class="k">OR</span> <span class="p">(</span><span class="n">cohort_yyyymm</span> <span class="o">=</span> <span class="n">DATE_TRUNC</span><span class="p">(</span><span class="s1">'MONTH'</span><span class="p">,</span> <span class="k">CURRENT_DATE</span><span class="p">)</span> <span class="o">-</span> <span class="n">INTERVAL</span> <span class="s1">'3'</span> <span class="k">MONTH</span> <span class="k">AND</span> <span class="n">month_n</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>  
        <span class="c1">-- í˜„ì¬ ì‹œì  ê¸°ì¤€ìœ¼ë¡œ 4ê°œì›” ì „ì˜ ì½”í˜¸íŠ¸: Month 3 ë¦¬í…ì…˜ ê°’ë§Œ Insertí•œë‹¤.  </span>
        <span class="k">OR</span> <span class="p">(</span><span class="n">cohort_yyyymm</span> <span class="o">=</span> <span class="n">DATE_TRUNC</span><span class="p">(</span><span class="s1">'MONTH'</span><span class="p">,</span> <span class="k">CURRENT_DATE</span><span class="p">)</span> <span class="o">-</span> <span class="n">INTERVAL</span> <span class="s1">'4'</span> <span class="k">MONTH</span> <span class="k">AND</span> <span class="n">month_n</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>  
        <span class="c1">-- í˜„ì¬ ì‹œì  ê¸°ì¤€ìœ¼ë¡œ 5ê°œì›” ì „ì˜ ì½”í˜¸íŠ¸: Month 4 ë¦¬í…ì…˜ ê°’ë§Œ Insertí•œë‹¤.  </span>
        <span class="k">OR</span> <span class="p">(</span><span class="n">cohort_yyyymm</span> <span class="o">=</span> <span class="n">DATE_TRUNC</span><span class="p">(</span><span class="s1">'MONTH'</span><span class="p">,</span> <span class="k">CURRENT_DATE</span><span class="p">)</span> <span class="o">-</span> <span class="n">INTERVAL</span> <span class="s1">'5'</span> <span class="k">MONTH</span> <span class="k">AND</span> <span class="n">month_n</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>  
        <span class="c1">-- í˜„ì¬ ì‹œì  ê¸°ì¤€ìœ¼ë¡œ 6ê°œì›” ì „ì˜ ì½”í˜¸íŠ¸: Month 5 ë¦¬í…ì…˜ ê°’ë§Œ Insertí•œë‹¤.  </span>
        <span class="k">OR</span> <span class="p">(</span><span class="n">cohort_yyyymm</span> <span class="o">=</span> <span class="n">DATE_TRUNC</span><span class="p">(</span><span class="s1">'MONTH'</span><span class="p">,</span> <span class="k">CURRENT_DATE</span><span class="p">)</span> <span class="o">-</span> <span class="n">INTERVAL</span> <span class="s1">'6'</span> <span class="k">MONTH</span> <span class="k">AND</span> <span class="n">month_n</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>  
        <span class="c1">-- í˜„ì¬ ì‹œì  ê¸°ì¤€ìœ¼ë¡œ 7ê°œì›” ì „ì˜ ì½”í˜¸íŠ¸: Month 6 ë¦¬í…ì…˜ ê°’ë§Œ Insertí•œë‹¤.  </span>
        <span class="k">OR</span> <span class="p">(</span><span class="n">cohort_yyyymm</span> <span class="o">=</span> <span class="n">DATE_TRUNC</span><span class="p">(</span><span class="s1">'MONTH'</span><span class="p">,</span> <span class="k">CURRENT_DATE</span><span class="p">)</span> <span class="o">-</span> <span class="n">INTERVAL</span> <span class="s1">'7'</span> <span class="k">MONTH</span> <span class="k">AND</span> <span class="n">month_n</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>  
    <span class="nv">"endif"</span>
    <span class="k">ORDER</span> <span class="k">BY</span>  
        <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>  
<span class="p">)</span>
</code></pre></div></div>

<p><strong>STEP 8) ì¶œë ¥í•œë‹¤.</strong></p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span>  
    <span class="o">*</span>  
<span class="k">FROM</span>  
    <span class="n">CTE_monthly_retention_inserted</span>  
<span class="p">;</span>
</code></pre></div></div>

<h1 id="6-ê²°ë¡ ">6. ê²°ë¡ </h1>

<p>Data Martë‚˜ Batch Queryì— ëŒ€í•œ ì´ë¡ ì€ ëˆ„êµ¬ë‚˜ ì‰½ê²Œ ì˜¨ë¼ì¸ì—ì„œ ê³µë¶€í•  ìˆ˜ ìˆì§€ë§Œ, ì‹¤ì œ Metrics ë³„ë¡œ ëª¨ë²”ì´ ë  ë§Œí•œ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì°¾ê¸°ê°€ ì–´ë ¤ìš´ ê²ƒ ê°™ìŠµë‹ˆë‹¤. íŠ¹íˆ, ë¦¬í…ì…˜ì˜ ê²½ìš° ë¶„ëª…íˆ ì¼íšŒì„± ì¿¼ë¦¬ì˜ ë¬¸ì œì ì„ í•´ê²°í•´ì•¼ í•  í•„ìš”ì„±ì´ í´ ê²ƒì„ì—ë„ ë¶ˆêµ¬í•˜ê³  ì €ëŠ” ê°œì¸ì ìœ¼ë¡œ êµ¬ê¸€ë§ì„ í†µí•´ì„œ ì ì ˆí•œ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì „í˜€ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì´ì°¸ì— í¼ë¸”ë¦­ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì œê°€ í•œ ë²ˆ ë§Œë“¤ì–´ë³´ìëŠ” ê²°ì‹¬ì´ ë“¤ì–´ ì´ë ‡ê²Œ ê¸€ì„ ì ì–´ë´¤ìŠµë‹ˆë‹¤.</p>

<p>ê·¸ëŸ¬ë‚˜ ì €ì˜ ë ˆí¼ëŸ°ìŠ¤ê°€ ì ˆëŒ€ë¡œ ì •ë‹µì€ ì•„ë‹ ê²ƒì…ë‹ˆë‹¤. Batch Query ëª¨ë²” ì‚¬ë¡€ë¥¼ ì°¾ê¸° ì–´ë µë‹¤ëŠ” ì ì€ ê·¸ë§Œí¼ ê° í”„ë¡œë•íŠ¸ì˜ ë„ë©”ì¸ íŠ¹ìˆ˜ì„±ê³¼ ë°ì´í„°ì˜ í˜•íƒœê°€ ê·¹ëª…í•˜ê²Œ ë‹¬ë¼ ì ˆëŒ€ë¶ˆë³€ì˜ ì •ë‹µì´ ì—†ë‹¤ëŠ” ì˜ë¯¸ì¼ì§€ë„ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.</p>

<p>ê·¸ëŸ¬ë¯€ë¡œ, ì €ì˜ ì‚¬ë¡€ëŠ” ê°€ë³ê²Œ ì°¸ê³ ë§Œ í•´ì£¼ì‹œê³ , ë…ì ë¶„ë“¤ê»˜ì„œ ì²˜í•œ ë‹¤ì–‘í•œ íŠ¹ìˆ˜ì„±ì— ë”°ë¼ ê°€ì¥ íš¨ìœ¨ì ì¸ ë¦¬í…ì…˜ ì¸¡ì • í™˜ê²½ì„ êµ¬ì¶•í•˜ì‹œê¸¸ ë°”ë¼ê² ìŠµë‹ˆë‹¤. ë¬¼ë¡ , ì €ì˜ ë…¼ë¦¬ì  ì˜¤ë¥˜ë‚˜ ê°œì„  ë°©í–¥ì— ëŒ€í•œ í”¼ë“œë°±ë„ ì–¸ì œë‚˜ ê°ì‚¬íˆ ë°›ê² ìŠµë‹ˆë‹¤. ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.</p>

<hr />

<h2 id="published-by-joshua-kim"><em>Published by</em> Joshua Kim</h2>
<p><img src="/assets/profile/joshua-profile.png" alt="Joshua Kim" /></p>]]></content><author><name></name></author><category term="Data Analysis" /><category term="SQL" /><category term="Data Warehouse" /><summary type="html"><![CDATA[ì½”í˜¸íŠ¸ ë¦¬í…ì…˜ì˜ ì˜ë¯¸ì™€ ì¤‘ìš”ì„±ì— ëŒ€í•´ ë§ì”€ë“œë¦¬ê³ , Batch Queryë¥¼ ì‚¬ìš©í•˜ì—¬ íšŒì›ê°€ì… ì›” ì½”í˜¸íŠ¸ ë³„ë¡œ Monthly Range Retentionì„ ê³„ì‚°í•˜ëŠ” ë°©ë²•ì„ ì œì‹œí•´ë“œë¦´ê²Œìš”.]]></summary></entry><entry><title type="html">Data Warehouse #06</title><link href="http://localhost:4000/data-warehouse-06/" rel="alternate" type="text/html" title="Data Warehouse #06" /><published>2023-12-19T00:00:00+09:00</published><updated>2023-12-19T00:00:00+09:00</updated><id>http://localhost:4000/data-warehouse-06</id><content type="html" xml:base="http://localhost:4000/data-warehouse-06/"><![CDATA[<blockquote>
  <p>In this article, Iâ€™ll summarize key takeaways from:</p>
  <ul>
    <li>SECTION 06. Dimensions</li>
  </ul>
</blockquote>

<h3 id="disclaimer">DISCLAIMER</h3>
<blockquote>
  <p>This article is a compilation of key takeaways after completing <a href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/">Data Warehouse â€” The Ultimate Guide</a> on Udemy. However, it may be challenging to achieve a comprehensive and deep understanding of Data Warehouse solely through this article. For your in-depth learning, please take the course, which is an excellent resource, and I personally highly recommend it to those who are eager to master data warehousing, dimensional modeling, and the ETL process.</p>
</blockquote>

<p><img src="/assets/2023-12-19-data-warehouse-06/data-warehouse.webp" alt="" /></p>
<blockquote>
  <p><a href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/">Source</a></p>
</blockquote>

<h1 id="dimension-tables">Dimension Tables</h1>

<ul>
  <li>A role of â€œ<strong>group &amp; filter</strong>â€</li>
  <li>Always has a <strong>PK(Primary Key)</strong>.
    <ul>
      <li>Recommended to iuse a <strong>Surrogate Key</strong>!
        <ul>
          <li>because a Natural Key may or may not have null values.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Number of Rows &amp; Columns (compared to Fact Tables)
    <ul>
      <li>Number of Rows â¬‡ï¸</li>
      <li>Number of Columns â¬†ï¸ (with descriptive attributes)</li>
    </ul>
  </li>
</ul>

<p><img src="/assets/2023-12-19-data-warehouse-06/dimension-tables.png" alt="" /></p>

<h1 id="date-dimensions">Date Dimensions</h1>

<ul>
  <li>One of the most common &amp; important dimensions</li>
  <li>Contains date-related features
    <pre><code class="language-plain">Year, Quarter, Month(Name &amp; Number), Week, Day, Weekday(Name &amp; Number), etc.
Combination: Year-quarter, Year-Month, etc.
</code></pre>
  </li>
  <li>Surrogate Key: <strong><code class="language-plaintext highlighter-rouge">YYYYMMDD</code></strong> (Integer Type)
    <ul>
      <li>The recommended way to fill null values: <code class="language-plaintext highlighter-rouge">NULL</code> dates in Source â†’ <code class="language-plaintext highlighter-rouge">19000101</code> in Dimensions</li>
    </ul>
  </li>
</ul>

<p><img src="/assets/2023-12-19-data-warehouse-06/date-dimensions.png" alt="" /></p>

<ul>
  <li>Date Dimensions can be populated in advance. (for the next 5 or 10 years, for example.)</li>
  <li>Donâ€™t combine time with date!
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Time</code> should be a separate dimension from <code class="language-plaintext highlighter-rouge">Date</code>.</li>
    </ul>
  </li>
  <li>Date Feature Examples</li>
</ul>

<table>
  <thead>
    <tr>
      <th><strong>Type</strong></th>
      <th><strong>Examples</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Number &amp; Text</td>
      <td>January / 1</td>
    </tr>
    <tr>
      <td>Long &amp; Abbreviated</td>
      <td>January / Jan / Monday / Mon</td>
    </tr>
    <tr>
      <td>Combinations of Features</td>
      <td>Q1 / 2022-Q1</td>
    </tr>
    <tr>
      <td>Fiscal Dates</td>
      <td>Fiscal Year, etc.</td>
    </tr>
    <tr>
      <td>Flags</td>
      <td>Weekend, Holiday, etc.</td>
    </tr>
  </tbody>
</table>

<h1 id="nulls-in-dimensions">Nulls in Dimensions</h1>

<h3 id="promotion_fk"><code class="language-plaintext highlighter-rouge">promotion_FK</code></h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">NULL</code> values must be avoided so that they can <strong>appear in JOINs</strong>!</li>
</ul>

<p><img src="/assets/2023-12-19-data-warehouse-06/nulls-in-dimensions-1.png" alt="" /></p>

<h3 id="replace-nulls-with-descriptive-values">Replace Nulls with descriptive values!</h3>
<ul>
  <li>More understandable for business users</li>
  <li>Values appear in aggregations in BI tools</li>
</ul>

<p><img src="/assets/2023-12-19-data-warehouse-06/nulls-in-dimensions-2.png" alt="" /></p>

<h1 id="hierarchies-in-dimensions">Hierarchies in Dimensions</h1>

<h3 id="snowflake-schema">Snowflake Schema</h3>
<ul>
  <li>Should be avoided in Data Mart
    <ul>
      <li>ğŸ‘ Good for â€œ<strong>Normalization</strong>â€</li>
      <li>ğŸ‘ Bad for â€œ<strong>Query Performance (Read)</strong>â€</li>
    </ul>
  </li>
</ul>

<p><img src="/assets/2023-12-19-data-warehouse-06/hierarchies-in-dimensions-1.png" alt="" /></p>

<h3 id="star-schema">Star Schema</h3>
<ul>
  <li><strong>Denormalized</strong> &amp; <strong>Flattened</strong></li>
</ul>

<p><img src="/assets/2023-12-19-data-warehouse-06/hierarchies-in-dimensions-2.png" alt="" /></p>

<h3 id="consider-combinations-if-helpful">Consider combinations if helpful!</h3>

<p><img src="/assets/2023-12-19-data-warehouse-06/hierarchies-in-dimensions-3.png" alt="" /></p>

<h1 id="conformed-dimensions">Conformed Dimensions</h1>

<p><strong>A Confirmed Dimension is a dimension shared by multiple fact tables or stars.</strong></p>
<ul>
  <li>Used to compare facts across different fact tables.</li>
</ul>

<p><img src="/assets/2023-12-19-data-warehouse-06/conformed-dimensions-1.png" alt="" /></p>

<p><img src="/assets/2023-12-19-data-warehouse-06/conformed-dimensions-2.png" alt="" /></p>

<p><strong>The same granularity is not necessary, and a different scope of FK can be possible!</strong></p>

<p><img src="/assets/2023-12-19-data-warehouse-06/conformed-dimensions-3.png" alt="" /></p>

<h1 id="degenerate-dimensions">Degenerate Dimensions</h1>

<p><strong>A Degenerate Dimension is a dimension that has no attributes or descriptive information, but only a single identifier or key.</strong></p>
<ul>
  <li>Used to simplify fact tables by eliminating the need for a separate dimension table.</li>
  <li>It can be still useful in the future, so we donâ€™t just drop it.</li>
  <li>Examples: invoice number, billing number, order id, etc.</li>
  <li>with a suffix of <strong><code class="language-plaintext highlighter-rouge">_DD</code></strong></li>
</ul>

<p><img src="/assets/2023-12-19-data-warehouse-06/degenerate-dimensions.png" alt="" /></p>

<h1 id="junk-dimensions">Junk Dimensions</h1>

<p><strong>A Junk Dimension is a dimension with various flags or indicators with low cardinality.</strong></p>
<ul>
  <li>We call it <code class="language-plaintext highlighter-rouge">Junk Dimension</code> only internally. When talking to business users, we can refer to it as the â€œ<strong>Transactional Indicator Dimension</strong>â€.</li>
  <li>If there are too many combination cases for the attributes, extract only existing combinations of the fact table.</li>
</ul>

<blockquote>
  <p>ğŸ’¡ <code class="language-plaintext highlighter-rouge">Junk Dimension</code> is a concept in data warehousing that involves <strong>combining low-cardinality fields or attributes into a single-dimension table</strong>. These low-cardinality fields may represent different categories or flags that have a limited number of possible values. By consolidating these attributes into a single table, a Junk Dimension reduces the number of dimension tables in a data warehouse. <a href="https://www.dremio.com/wiki/junk-dimension/">(Source)</a></p>
</blockquote>

<p><img src="/assets/2023-12-19-data-warehouse-06/junk-dimensions.png" alt="" /></p>

<h1 id="role-playing-dimensions">Role-playing Dimensions</h1>

<p><strong>A Role-playing Dimension is a dimension that is referenced multiple times by a fact table.</strong></p>

<p><img src="/assets/2023-12-19-data-warehouse-06/role-playing-dimensions.png" alt="" /></p>

<p><strong>What are Role-playing Dimensions?</strong></p>
<ul>
  <li>Role-playing Dimensions are dimensions that are used more than once in a fact table, each time with a different meaning or role.</li>
  <li>They are typically derived from the same source dimension table, but with different aliases or prefixes to indicate their role.
    <ul>
      <li>For example, a date dimension table can be used to create <code class="language-plaintext highlighter-rouge">order_date</code>, <code class="language-plaintext highlighter-rouge">ship_date</code>, and <code class="language-plaintext highlighter-rouge">delivery_date</code> dimensions in a fact table that records product sales.</li>
      <li>Each of these dimensions has the same structure and attributes, such as <code class="language-plaintext highlighter-rouge">year</code>, <code class="language-plaintext highlighter-rouge">month</code>, <code class="language-plaintext highlighter-rouge">quarter</code>, <code class="language-plaintext highlighter-rouge">day</code>, etc., but they represent different aspects of the sales process.</li>
    </ul>
  </li>
</ul>

<p><strong>Why are Role-playing Dimensions challenging?</strong></p>
<ul>
  <li>(1) Increase the complexity and size of the fact table.
    <ul>
      <li>Each Role-playing Dimension adds more columns and joins to the fact table.</li>
    </ul>
  </li>
  <li>(2) Create confusion and inconsistency among users and analysts.
    <ul>
      <li>Different roles may have different meanings or interpretations for the same dimension attribute.</li>
    </ul>
  </li>
  <li>(3) Difficult to maintain and update.
    <ul>
      <li>Any change in the source dimension table may affect multiple Role-playing Dimensions and fact tables.</li>
    </ul>
  </li>
</ul>

<p><strong>How do you design Role-playing Dimensions?</strong></p>
<ul>
  <li>(1) Use a single-dimension table for each Role-playing Dimension and join it to the fact table using different foreign keys.
    <ul>
      <li><strong>Example</strong>: a date dimension table can be joined to a sales fact table using <code class="language-plaintext highlighter-rouge">order_date_key</code>, <code class="language-plaintext highlighter-rouge">ship_date_key</code>, and <code class="language-plaintext highlighter-rouge">delivery_date_key</code> as foreign keys.</li>
      <li><strong>Pros</strong>: simplicity and consistency</li>
      <li><strong>Cons</strong>: redundancy and performance issues (The same dimension table is duplicated and joined multiple times to the fact table.)</li>
    </ul>
  </li>
  <li>(2) Use a single dimension table for each Role-playing Dimension, but with different views or aliases to indicate their role.
    <ul>
      <li><strong>Example</strong>: a date dimension table can be viewed or aliased as <code class="language-plaintext highlighter-rouge">order_date</code>, <code class="language-plaintext highlighter-rouge">ship_date</code>, and <code class="language-plaintext highlighter-rouge">delivery_date</code> in the data warehouse schema, and joined to the fact table using the appropriate view or alias name.</li>
      <li><strong>Pros</strong>: reducing redundancy and improving performance (The same dimension table is not duplicated and joined multiple times to the fact table.)</li>
      <li><strong>Cons</strong>: complexity and dependency (The views or aliases need to be created and maintained in the data warehouse schema.)</li>
    </ul>
  </li>
</ul>

<blockquote>
  <p><a href="https://www.linkedin.com/advice/3/how-do-you-deal-changing-business-requirements">Source</a></p>
</blockquote>

<hr />

<h2 id="published-by-joshua-kim"><em>Published by</em> Joshua Kim</h2>
<p><img src="/assets/profile/joshua-profile.png" alt="Joshua Kim" /></p>]]></content><author><name></name></author><category term="SQL" /><category term="Data Warehouse" /><summary type="html"><![CDATA[In this article, Iâ€™ll summarize key takeaways from: SECTION 06. Dimensions]]></summary></entry><entry><title type="html">Data Warehouse #03</title><link href="http://localhost:4000/data-warehouse-03/" rel="alternate" type="text/html" title="Data Warehouse #03" /><published>2023-12-06T00:00:00+09:00</published><updated>2023-12-06T00:00:00+09:00</updated><id>http://localhost:4000/data-warehouse-03</id><content type="html" xml:base="http://localhost:4000/data-warehouse-03/"><![CDATA[<blockquote>
  <p>In this article, Iâ€™ll summarize key takeaways from:</p>
  <ul>
    <li>SECTION 03. Data Warehouse Architecture</li>
  </ul>
</blockquote>

<h3 id="disclaimer">DISCLAIMER</h3>

<blockquote>
  <p>This article is a compilation of key takeaways after completing  <a href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/">Data Warehouse â€” The Ultimate Guide</a>  on Udemy. However, it may be challenging to achieve a comprehensive and deep understanding of Data Warehouse solely through this article. For your in-depth learning, please take the course, which is an excellent resource, and I personally highly recommend it to those who are eager to master data warehousing, dimensional modeling, and the ETL process.</p>
</blockquote>

<p><img src="/assets/2023-12-06-data-warehouse-03/data-warehouse.webp" alt="" /></p>
<blockquote>
  <p><a href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/">Source</a></p>
</blockquote>

<h1 id="data-lake-vs-data-warehouse">Data Lake vs. Data Warehouse</h1>

<p><img src="/assets/2023-12-06-data-warehouse-03/data-lake-vs-data-warehouse.webp" alt="" /></p>

<h1 id="pentaho--postgresql">Pentaho &amp; PostgreSQL</h1>

<h3 id="pentaho">Pentaho</h3>

<ul>
  <li><strong>ETL Tool</strong></li>
  <li><a href="https://www.hitachivantara.com/en-us/products/pentaho-plus-platform/data-integration-analytics/pentaho-community-edition.html">Pentaho Community Edition Download</a></li>
  <li><code class="language-plaintext highlighter-rouge">pdi-ce-9.4.0.0-343.zip</code></li>
  <li>After unzipping the downloaded file, click the  <code class="language-plaintext highlighter-rouge">spoon</code>  file.</li>
</ul>

<h3 id="postgresql">PostgreSQL</h3>

<ul>
  <li><strong>Database Management System</strong></li>
  <li><a href="https://www.postgresql.org/download/">PostgreSQL Download</a></li>
  <li>After installing the downloaded file, run  <code class="language-plaintext highlighter-rouge">PGAdmin</code>.</li>
</ul>

<h1 id="the-layers-of-a-data-warehouse">The Layers of a Data Warehouse</h1>

<p><img src="/assets/2023-12-06-data-warehouse-03/The Layers of a Data Warehouse.webp" alt="" /></p>

<h3 id="data-sources--the-staging-layer">Data Sources â†’ The Staging Layer</h3>
<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">E</code></strong> of ETL Process</li>
  <li><strong>â€œThe Landing Zone Extracted Dataâ€</strong>
    <ul>
      <li>Data in Tables and on a Separate Database</li>
      <li>As little â€œtoughingâ€ as possible</li>
      <li>We donâ€™t charge the source systems.</li>
      <li>Temporary or Persistent Staging Layers</li>
    </ul>
  </li>
  <li>Short Time on the Source Systems</li>
  <li>Quickly Extracted</li>
  <li>Move the Data into Relational Database</li>
  <li>Start Transformations from There</li>
  <li>Minimal Transformation</li>
</ul>

<h3 id="the-staging-layer--the-cleansing-layer">The Staging Layer â†’ The Cleansing Layer</h3>
<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">TL</code></strong> of ETL Process</li>
</ul>

<h3 id="the-cleansing-layer--core--access-layer--data-warehouse">The Cleansing Layer â†’ Core / Access Layer / Data Warehouse</h3>
<ul>
  <li><strong>â€œCoreâ€</strong>
    <ul>
      <li>Business Logic</li>
    </ul>
  </li>
</ul>

<h3 id="core--access-layer--data-warehouse--data-mart">Core / Access Layer / Data Warehouse â†’ Data Mart</h3>
<ul>
  <li><strong>â€œData Martâ€</strong>
    <ul>
      <li>Subset of a Data Warehouse</li>
      <li>Dimensional Model</li>
      <li>Can be Further Aggregated.</li>
      <li>Usability + Acceptance</li>
      <li>Performance</li>
    </ul>
  </li>
  <li>Can Vary depending on Each Tool, Each Department, Each Region, Each Usecase</li>
</ul>

<h1 id="in-memory-databases">In-memory Databases</h1>

<h3 id="traditional-databases">Traditional Databases</h3>

<p><img src="/assets/2023-12-06-data-warehouse-03/traditional-databases.webp" alt="" /></p>

<h3 id="in-memory-databases-1">In-memory Databases</h3>

<p><img src="/assets/2023-12-06-data-warehouse-03/in-memory-databases.webp" alt="" /></p>

<ul>
  <li>Highly Optimized for Query Performance</li>
  <li>Good for Analytics &amp; High Query Volume</li>
  <li>Usually Used for Data Marts</li>
  <li>Relational &amp; Non-relational</li>
  <li>Techniques: Columnar Storage, Parallel Query Plans, and Others</li>
</ul>

<h1 id="demo-setting-up-the-staging-area-with-postgresql">Demo: Setting up the Staging Area with PostgreSQL</h1>

<p><img src="/assets/2023-12-06-data-warehouse-03/pgadmin4.webp" alt="" /></p>
<ul>
  <li>Created a  <strong>database</strong>  named  <code class="language-plaintext highlighter-rouge">DataWarehouseX</code>.</li>
  <li>Created a  <strong>schema</strong>  named  <code class="language-plaintext highlighter-rouge">Staging</code>.</li>
</ul>

<hr />

<h2 id="published-by-joshua-kim"><em>Published by</em> Joshua Kim</h2>
<p><img src="/assets/profile/joshua-profile.png" alt="Joshua Kim" /></p>]]></content><author><name></name></author><category term="SQL" /><category term="Data Warehouse" /><summary type="html"><![CDATA[In this article, Iâ€™ll summarize key takeaways from: SECTION 03. Data Warehouse Architecture]]></summary></entry><entry><title type="html">Data Warehouse #01-02</title><link href="http://localhost:4000/data-warehouse-01-02/" rel="alternate" type="text/html" title="Data Warehouse #01-02" /><published>2023-12-06T00:00:00+09:00</published><updated>2023-12-06T00:00:00+09:00</updated><id>http://localhost:4000/data-warehouse-01-02</id><content type="html" xml:base="http://localhost:4000/data-warehouse-01-02/"><![CDATA[<blockquote>
  <p>In this article, Iâ€™ll summarize key takeaways from:</p>
  <ul>
    <li>SECTION 01. Introduction</li>
    <li>SECTION 02. Data Warehouse Basics</li>
  </ul>
</blockquote>

<h3 id="disclaimer">DISCLAIMER</h3>

<blockquote>
  <p>This article is a compilation of key takeaways after completing  <a href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/">Data Warehouse â€” The Ultimate Guide</a>  on Udemy. However, it may be challenging to achieve a comprehensive and deep understanding of Data Warehouse solely through this article. For your in-depth learning, please take the course, which is an excellent resource, and I personally highly recommend it to those who are eager to master data warehousing, dimensional modeling, and the ETL process.</p>
</blockquote>

<p><img src="/assets/2023-12-06-data-warehouse-01-02/data-warehouse.webp" alt="" /></p>
<blockquote>
  <p><a href="https://www.udemy.com/course/data-warehouse-the-ultimate-guide/">Source</a></p>
</blockquote>

<h1 id="what-will-you-learn">What Will You Learn?</h1>

<ul>
  <li>Data Warehouse Basics</li>
  <li>Data Warehouse Architecture</li>
  <li>Dimensional Modeling</li>
  <li>Fact Tables</li>
  <li>Dimension Tables</li>
  <li>Slowly Changing Dimensions</li>
  <li>ETL Process</li>
  <li>ETL Tools</li>
  <li>Case Study: Create a Data Warehouse</li>
  <li>ETL vs. ELT</li>
  <li>Using a Data Warehouse</li>
  <li>Optimizing a Data Warehouse</li>
  <li>The Modern Data Warehouse</li>
</ul>

<h1 id="why-do-we-need-a-data-warehouse">Why Do We Need a Data Warehouse?</h1>

<p><img src="/assets/2023-12-06-data-warehouse-01-02/Why Do We Need a Data Warehouse.webp" alt="" /></p>

<h1 id="what-is-a-data-warehouse">What is a Data Warehouse?</h1>

<p>ğŸ—£ï¸  <strong>A database used and optimized for analytical purposes.</strong></p>
<ul>
  <li>User-friendly</li>
  <li>Fast query performance</li>
  <li>Enabling data analysis</li>
</ul>

<h1 id="etl">ETL</h1>

<ul>
  <li><strong>Extract</strong>  +  <strong>Transform</strong>  +  <strong>Load</strong>  â†’  <strong><code class="language-plaintext highlighter-rouge">Data Warehouse</code></strong></li>
</ul>

<p><img src="/assets/2023-12-06-data-warehouse-01-02/etl-flowchart.webp" alt="" /></p>

<h1 id="goals-of-data-warehouse">Goals of Data Warehouse</h1>
<ul>
  <li>Centralized and Consistent Location for Data</li>
  <li>Data Must be Accessible Fast (<strong>Query Performance</strong>)</li>
  <li>User-friendly (<strong>Easy to Understand</strong>)</li>
  <li>Must Load Data Consistently and repeatedly (<strong>ETL</strong>)</li>
  <li><strong>Reporting</strong>  and  <strong>Data Visualization</strong>  Built on Top</li>
</ul>

<h1 id="understanding-a-data-warehouse">Understanding a Data Warehouse</h1>

<p><img src="/assets/2023-12-06-data-warehouse-01-02/data-warehouse-flowchart.webp" alt="" /></p>

<h1 id="business-intelligence">Business Intelligence</h1>
<ul>
  <li>We Create a Data Warehouse for  <strong>Business Intelligence</strong>!</li>
</ul>

<hr />

<h2 id="published-by-joshua-kim"><em>Published by</em> Joshua Kim</h2>
<p><img src="/assets/profile/joshua-profile.png" alt="Joshua Kim" /></p>]]></content><author><name></name></author><category term="SQL" /><category term="Data Warehouse" /><summary type="html"><![CDATA[In this article, Iâ€™ll summarize key takeaways from: SECTION 01. Introduction SECTION 02. Data Warehouse Basics]]></summary></entry></feed>