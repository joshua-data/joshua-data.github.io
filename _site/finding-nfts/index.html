<!DOCTYPE html>
<html>
  <head>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-K04Y972F7E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K04Y972F7E');
  </script>

  <title>Finding all NFTs (ERC721) held by an address (feat. Dune Analytics) ‚Äì Joshua Kim ‚Äì Data Analyst</title>

      <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="
  Embark on a journey through blockchain data with Joshua. Explore the intricacies of smart contracts, ERC721, and data analysis techniques. Joshua‚Äôs expertise shines as he guides you through interpreting transfer events using tools like Dune Analytics. Don‚Äôt miss the case study featuring Binance 7 EOA addresses. Verify insights with Etherscan for a deeper understanding of on-chain data architecture.

" />
    <meta property="og:description" content="
  Embark on a journey through blockchain data with Joshua. Explore the intricacies of smart contracts, ERC721, and data analysis techniques. Joshua‚Äôs expertise shines as he guides you through interpreting transfer events using tools like Dune Analytics. Don‚Äôt miss the case study featuring Binance 7 EOA addresses. Verify insights with Etherscan for a deeper understanding of on-chain data architecture.

" />
    
    <meta name="author" content="Joshua Kim" />

    
    <meta property="og:title" content="Finding all NFTs (ERC721) held by an address (feat. Dune Analytics)" />
    <meta property="twitter:title" content="Finding all NFTs (ERC721) held by an address (feat. Dune Analytics)" />
    
  <!-- Async font loading -->
<script>
  window.WebFontConfig = {
      custom: {
          families: ['Spoqa Han Sans:100,300,400,700'],
          urls: ['https://spoqa.github.io/spoqa-han-sans/css/SpoqaHanSans-kr.css']
      },
      timeout: 60000
  };
  (function(d) {
      var wf = d.createElement('script'), s = d.scripts[0];
      wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js';
      s.parentNode.insertBefore(wf, s);
  })(document);
</script>


  

  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link rel="stylesheet" type="text/css" href="/style.css" />
  <link rel="alternate" type="application/rss+xml" title="Joshua Kim - Data Analyst" href="/feed.xml" />

  <link rel="apple-touch-icon" sizes="57x57" href="/assets/logo/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/logo/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/logo/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/logo/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/logo/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/logo/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/logo/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/logo/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/logo/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/logo/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/logo/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/logo/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/logo/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
</head>

  <body>      

    <a href="https://hits.seeyoufarm.com"><img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fjoshua-data.github.io&count_bg=%2379C83D&title_bg=%23555555&icon=ghostery.svg&icon_color=%23E7E7E7&title=hits&edge_flat=false"/></a>

    <div class="wrapper-masthead">
  <div class="container">
    <header class="masthead clearfix">
      
        <a href="/" class="site-avatar"><img src="https://avatars.githubusercontent.com/u/144670043?v=4" /></a>
      

      <div class="site-info">
        <h1 class="site-name"><a href="/">Joshua Kim</a></h1>
        <p class="site-description">Data Analyst</p>
      </div>

      <nav>
        
        
        <a href="/about">About</a>
        
        
        
        <a href="/">Articles</a>
        
        
        
        <a href="/archive">Archive</a>
        
        
        
        <a href="/tags">Tags</a>
        
        
      </nav>
    </header>
  </div>
</div>

    <div id="main" role="main" class="container">
      <article class="post">
  <h1>Finding all NFTs (ERC721) held by an address (feat. Dune Analytics)</h1>

  <div>
    <span class="date">
      2023-10-08
    </span>

    <ul class="tag">
      
      <li>
        <a href="http://localhost:4000/tags#Blockchain">
          Blockchain
        </a>
      </li>
      
      <li>
        <a href="http://localhost:4000/tags#On-chain Data">
          On-chain Data
        </a>
      </li>
      
      <li>
        <a href="http://localhost:4000/tags#SQL">
          SQL
        </a>
      </li>
      
    </ul>
  </div>

  <div class="entry">
    <blockquote>
  <p>Embark on a journey through blockchain data with Joshua. Explore the intricacies of smart contracts, ERC721, and data analysis techniques. Joshua‚Äôs expertise shines as he guides you through interpreting transfer events using tools like Dune Analytics. Don‚Äôt miss the case study featuring Binance 7 EOA addresses. Verify insights with Etherscan for a deeper understanding of on-chain data architecture.</p>
</blockquote>

<iframe src="https://www.youtube.com/embed/Z1hwVUyR6Ic?si=-yfpWfDDFOZ6onSl" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>
<blockquote>
  <p>Presentation Video</p>
</blockquote>

<h3 id="contents">CONTENTS</h3>
<ol>
  <li>Contract = Functions + Events</li>
  <li>ERC721 Interface</li>
  <li>Summary: From Collecting Transfer Events To Calculating Wallet Balance</li>
  <li>Step by Step
    <ul>
      <li>4.1Ô∏è. Collect All Transfer Events.</li>
      <li>4.2Ô∏è. Filter Out the Most Recent Transfer Events for Each Token.</li>
      <li>4.3. Filter the Results to Show Only Those Related to the Specific Address.</li>
      <li>4.4Ô∏è. Determine the Acquisition Price of the Tokens and Label the Contracts.</li>
    </ul>
  </li>
  <li>Case Study</li>
  <li>References</li>
</ol>

<hr />

<h1 id="1-contract--functions--events">1. Contract = Functions + Events</h1>

<p><img src="/assets/2023-10-08-finding-nfts/flowchart.webp" alt="" /></p>

<h3 id="functions"><code class="language-plaintext highlighter-rouge">Functions</code></h3>
<p>When you call a <code class="language-plaintext highlighter-rouge">function</code>:</p>
<ul>
  <li>
    <ol>
      <li>it returns a value, or</li>
    </ol>
  </li>
  <li>
    <ol>
      <li>it trigers an event. (= emits an event.)</li>
    </ol>
  </li>
</ul>

<h3 id="events"><code class="language-plaintext highlighter-rouge">Events</code></h3>
<p>WHen an <code class="language-plaintext highlighter-rouge">event</code> is emitted:</p>
<ul>
  <li>
    <ol>
      <li>it creates and. broadcasts a TX message, then</li>
    </ol>
  </li>
  <li>
    <ol>
      <li>the TX message leads to state change of Ethereum.</li>
    </ol>
  </li>
</ul>

<h1 id="2-erc721-interface">2. ERC721 Interface</h1>

<h3 id="functions-1"><code class="language-plaintext highlighter-rouge">Functions</code></h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">balanceOf</span><span class="p">(</span><span class="n">owner</span><span class="p">):</span>  
    <span class="k">return</span> <span class="sh">"</span><span class="s">Number of Tokens held by the Owner</span><span class="sh">'</span><span class="s">s Account</span><span class="sh">"</span>  
<span class="k">def</span> <span class="nf">ownerOf</span><span class="p">(</span><span class="n">tokenId</span><span class="p">):</span>  
    <span class="k">return</span> <span class="sh">"</span><span class="s">Owner</span><span class="sh">'</span><span class="s">s Address holding the Token</span><span class="sh">"</span>  
<span class="k">def</span> <span class="nf">transferFrom</span><span class="p">(</span><span class="k">from</span><span class="p">,</span> <span class="n">to</span><span class="p">,</span> <span class="n">tokenId</span><span class="p">):</span>  
    <span class="n">emit</span> <span class="n">Transfer</span>  
<span class="k">def</span> <span class="nf">approve</span><span class="p">(</span><span class="n">to</span><span class="p">,</span> <span class="n">tokenId</span><span class="p">):</span>  
    <span class="n">emit</span> <span class="n">Approval</span>  
<span class="bp">...</span>
</code></pre></div></div>

<h3 id="events-1"><code class="language-plaintext highlighter-rouge">Events</code></h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">event</span> <span class="nc">Transfer</span><span class="p">(</span><span class="k">from</span><span class="p">,</span> <span class="n">to</span><span class="p">,</span> <span class="n">tokenId</span><span class="p">):</span>  
    <span class="c1">#  "tokenId" token is transferred from "from" to "to".  
</span><span class="n">event</span> <span class="nc">Approval</span><span class="p">(</span><span class="n">owner</span><span class="p">,</span> <span class="n">approved</span><span class="p">,</span> <span class="n">tokenId</span><span class="p">):</span>  
    <span class="c1"># "owner" enables "approved" to manage the "tokenId" token.  
</span><span class="bp">...</span>
</code></pre></div></div>

<h1 id="3-summary-from-collecting-transfer-events-to-calculating-wallet-balance">3. Summary: From Collecting Transfer Events To Calculating Wallet Balance</h1>

<h3 id="collect-all-events-involving--david">Collect All Events Involving  <code class="language-plaintext highlighter-rouge">David</code>.</h3>

<p><strong>Transfer Event #1:</strong></p>
<ul>
  <li>from = ‚ÄúJoshua‚Äù</li>
  <li>to = ‚ÄúDavid‚Äù</li>
  <li>tokenId = <code class="language-plaintext highlighter-rouge">1234</code></li>
</ul>

<p><strong>Transfer Event #2:</strong></p>
<ul>
  <li>from = ‚ÄúAngela‚Äù</li>
  <li>to = ‚ÄúDavid‚Äù</li>
  <li>tokenId = <code class="language-plaintext highlighter-rouge">5678</code></li>
</ul>

<p><strong>Transfer Event #3:</strong></p>
<ul>
  <li>from = ‚ÄúDavid‚Äù</li>
  <li>to = ‚ÄúAngela‚Äù</li>
  <li>tokenId = <code class="language-plaintext highlighter-rouge">1234</code></li>
</ul>

<h3 id="then-sum-up-all-the-events-to-determine-wallet-balance">Then Sum Up All the Events to Determine Wallet Balance.</h3>

<p><strong>Tokens List ‚ÄúDavid‚Äù currently owns:</strong></p>
<ul>
  <li>tokenId = <code class="language-plaintext highlighter-rouge">5678</code></li>
</ul>

<h1 id="4-step-by-step">4. Step by Step</h1>

<h2 id="41Ô∏è-collect-all-transfer-events">4.1Ô∏è. Collect All Transfer Events.</h2>

<p><img src="/assets/2023-10-08-finding-nfts/erc721-evt_Transfer.webp" alt="" /></p>
<blockquote>
  <p>Dune Analytics</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">WITH</span>  
<span class="n">CTE_all_transfers</span> <span class="k">AS</span> <span class="p">(</span>  
    <span class="k">SELECT</span>  
        <span class="n">contract_address</span><span class="p">,</span>  
        <span class="n">tokenId</span><span class="p">,</span>  
        <span class="n">evt_tx_hash</span><span class="p">,</span>  
        <span class="nv">"to"</span><span class="p">,</span>  
        <span class="n">ROW_NUMBER</span><span class="p">()</span> <span class="n">OVER</span> <span class="p">(</span>  
            <span class="k">PARTITION</span> <span class="k">BY</span> <span class="n">contract_address</span><span class="p">,</span> <span class="n">tokenId</span>  
            <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">evt_block_number</span> <span class="k">DESC</span><span class="p">,</span> <span class="n">evt_index</span> <span class="k">DESC</span>  
        <span class="p">)</span> <span class="k">AS</span> <span class="n">recent_idx</span>  
    <span class="k">FROM</span>  
        <span class="n">erc721_ethereum</span><span class="p">.</span><span class="n">evt_Transfer</span>  
    <span class="k">WHERE</span>  
        <span class="n">contract_address</span> <span class="k">IS</span> <span class="k">NOT</span> <span class="k">NULL</span>  
<span class="p">),</span>
</code></pre></div></div>

<p><strong>Query Results</strong></p>

<table>
  <thead>
    <tr>
      <th><strong>contract_address</strong></th>
      <th><strong>tokenId</strong></th>
      <th><strong>evt_tx_hash</strong></th>
      <th><strong>to</strong></th>
      <th><strong>recent_idx</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">0x0000...8e25</code></td>
      <td>106</td>
      <td><code class="language-plaintext highlighter-rouge">0xc8c0...4e4c</code></td>
      <td><code class="language-plaintext highlighter-rouge">0x826e...1ff3</code></td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">0x0000...8e25</code></td>
      <td>113</td>
      <td><code class="language-plaintext highlighter-rouge">0xcd01...66a2</code></td>
      <td><code class="language-plaintext highlighter-rouge">0xc412...0620</code></td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">0x0000...8e25</code></td>
      <td>118</td>
      <td><code class="language-plaintext highlighter-rouge">0x28dd...6e20</code></td>
      <td><code class="language-plaintext highlighter-rouge">0x4d98...e5a8</code></td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">0x0000...b183</code></td>
      <td>3</td>
      <td><code class="language-plaintext highlighter-rouge">0xd503...672a</code></td>
      <td><code class="language-plaintext highlighter-rouge">0x8636...a5e9</code></td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">0x0000...b183</code></td>
      <td>13</td>
      <td><code class="language-plaintext highlighter-rouge">0x3cc9...4121</code></td>
      <td><code class="language-plaintext highlighter-rouge">0x47a1...c78a</code></td>
      <td>2</td>
    </tr>
  </tbody>
</table>

<h2 id="42Ô∏è-filter-out-the-most-recent-transfer-events-for-each-token">4.2Ô∏è. Filter Out the Most Recent Transfer Events for Each Token.</h2>
<blockquote>
  <p>So that we can see who owns the tokens at the moment!</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">CTE_last_transfers</span> <span class="k">AS</span> <span class="p">(</span>  
    <span class="k">SELECT</span>  
        <span class="o">*</span>  
    <span class="k">FROM</span>  
        <span class="n">CTE_all_transfers</span>  
    <span class="k">WHERE</span>  
        <span class="n">recent_idx</span> <span class="o">=</span> <span class="mi">1</span>  
<span class="p">),</span>
</code></pre></div></div>

<p><strong>Query Results</strong></p>

<table>
  <thead>
    <tr>
      <th><strong>contract_address</strong></th>
      <th><strong>tokenId</strong></th>
      <th><strong>evt_tx_hash</strong></th>
      <th><strong>to</strong></th>
      <th><strong>recent_idx</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">0x0000...8e25</code></td>
      <td>0</td>
      <td><code class="language-plaintext highlighter-rouge">0xfa58...164a</code></td>
      <td><code class="language-plaintext highlighter-rouge">0x0000...5e92</code></td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">0x0000...8e25</code></td>
      <td>1</td>
      <td><code class="language-plaintext highlighter-rouge">0x0595...c802</code></td>
      <td><code class="language-plaintext highlighter-rouge">0x0000...5e92</code></td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">0x0000...8e25</code></td>
      <td>2</td>
      <td><code class="language-plaintext highlighter-rouge">0x0595...c802</code></td>
      <td><code class="language-plaintext highlighter-rouge">0x0000...5e92</code></td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">0x0000...8e25</code></td>
      <td>3</td>
      <td><code class="language-plaintext highlighter-rouge">0x0595...c802</code></td>
      <td><code class="language-plaintext highlighter-rouge">0x0000...5e92</code></td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">0x0000...8e25</code></td>
      <td>4</td>
      <td><code class="language-plaintext highlighter-rouge">0x0595...c802</code></td>
      <td><code class="language-plaintext highlighter-rouge">0x0000...5e92</code></td>
      <td>1</td>
    </tr>
  </tbody>
</table>

<h2 id="43-filter-the-results-to-show-only-those-related-to-the-specific-address">4.3. Filter the Results to Show Only Those Related to the Specific Address.</h2>
<blockquote>
  <p>So that we can see all the tokens that the address owns at the moment.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">CTE_last_transfers_cohort</span> <span class="k">AS</span> <span class="p">(</span>  
    <span class="k">SELECT</span>  
        <span class="o">*</span>  
    <span class="k">FROM</span>  
        <span class="n">CTE_last_transfers</span>  
    <span class="k">WHERE</span>  
        <span class="nv">"to"</span> <span class="o">=</span>   
<span class="p">),</span>
</code></pre></div></div>

<p><strong>Query Results</strong></p>

<table>
  <thead>
    <tr>
      <th><strong>contract_address</strong></th>
      <th><strong>tokenId</strong></th>
      <th><strong>evt_tx_hash</strong></th>
      <th><strong>to</strong></th>
      <th><strong>recent_idx</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">0x0000...8e25</code></td>
      <td>0</td>
      <td><code class="language-plaintext highlighter-rouge">0xfa58...164a</code></td>
      <td><code class="language-plaintext highlighter-rouge">0x0000...5e92</code></td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">0x0000...8e25</code></td>
      <td>1</td>
      <td><code class="language-plaintext highlighter-rouge">0x0595...c802</code></td>
      <td><code class="language-plaintext highlighter-rouge">0x0000...5e92</code></td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">0x0000...8e25</code></td>
      <td>2</td>
      <td><code class="language-plaintext highlighter-rouge">0x0595...c802</code></td>
      <td><code class="language-plaintext highlighter-rouge">0x0000...5e92</code></td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">0x0000...8e25</code></td>
      <td>3</td>
      <td><code class="language-plaintext highlighter-rouge">0x0595...c802</code></td>
      <td><code class="language-plaintext highlighter-rouge">0x0000...5e92</code></td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">0x0000...8e25</code></td>
      <td>4</td>
      <td><code class="language-plaintext highlighter-rouge">0x0595...c802</code></td>
      <td><code class="language-plaintext highlighter-rouge">0x0000...5e92</code></td>
      <td>1</td>
    </tr>
  </tbody>
</table>

<h2 id="44Ô∏è-determine-the-acquisition-price-of-the-tokens-and-label-the-contracts">4.4Ô∏è. Determine the Acquisition Price of the Tokens and Label the Contracts.</h2>

<p><strong>Determine the Acquisition Price of the Tokens.</strong></p>

<p><img src="/assets/2023-10-08-finding-nfts/flowchart.webp" alt="" /></p>

<ul>
  <li><strong>JOIN <code class="language-plaintext highlighter-rouge">hash</code> with <code class="language-plaintext highlighter-rouge">evt_tx_hash</code> and SELECT <code class="language-plaintext highlighter-rouge">value</code>.</strong></li>
</ul>

<p><img src="/assets/2023-10-08-finding-nfts/ethereum.transactions.webp" alt="" /></p>
<blockquote>
  <p>Dune Analytics</p>
</blockquote>

<p><strong>Label the Contracts.</strong></p>

<p><img src="/assets/2023-10-08-finding-nfts/label-the-contracts.webp" alt="" /></p>
<blockquote>
  <p>Dune Analytics</p>
</blockquote>

<ul>
  <li><strong>JOIN <code class="language-plaintext highlighter-rouge">contract_address</code> with <code class="language-plaintext highlighter-rouge">contract_address</code> and SELECT <code class="language-plaintext highlighter-rouge">name</code>.</strong></li>
</ul>

<p><img src="/assets/2023-10-08-finding-nfts/tokens.nft.webp" alt="" /></p>
<blockquote>
  <p>Dune Analytics</p>
</blockquote>

<p><strong>Final Query to Wrap Up</strong></p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">CTE_summary</span> <span class="k">AS</span> <span class="p">(</span>  
    <span class="k">SELECT</span>  
        <span class="n">LABELS</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>  
        <span class="n">TRANSFERS</span><span class="p">.</span><span class="n">contract_address</span><span class="p">,</span>  
        <span class="n">TRANSFERS</span><span class="p">.</span><span class="n">tokenId</span><span class="p">,</span>  
        <span class="n">TXS</span><span class="p">.</span><span class="n">value</span> <span class="o">/</span> <span class="mi">1</span><span class="n">e18</span> <span class="k">AS</span> <span class="n">acquisition_cost</span>  
    <span class="k">FROM</span>  
        <span class="n">CTE_last_transfers_cohort</span> <span class="n">TRANSFERS</span>  
    <span class="k">LEFT</span> <span class="k">JOIN</span>  
        <span class="n">ethereum</span><span class="p">.</span><span class="n">transactions</span> <span class="n">TXS</span>  
        <span class="k">ON</span> <span class="n">TRANSFERS</span><span class="p">.</span><span class="n">evt_tx_hash</span> <span class="o">=</span> <span class="n">TXS</span><span class="p">.</span><span class="n">hash</span>  
    <span class="k">LEFT</span> <span class="k">JOIN</span>  
        <span class="n">tokens</span><span class="p">.</span><span class="n">nft</span> <span class="n">LABELS</span>  
        <span class="k">ON</span> <span class="n">TRANSFERS</span><span class="p">.</span><span class="n">contract_address</span> <span class="o">=</span> <span class="n">LABELS</span><span class="p">.</span><span class="n">contract_address</span>  
            <span class="k">AND</span> <span class="n">LABELS</span><span class="p">.</span><span class="n">blockchain</span> <span class="o">=</span> <span class="s1">'ethereum'</span>  
<span class="p">)</span>
<span class="k">SELECT</span>
    <span class="o">*</span>
<span class="k">FROM</span>
    <span class="n">CTE_summary</span>
<span class="p">;</span>
</code></pre></div></div>

<h1 id="5-case-study">5. Case Study</h1>

<h3 id="binance-7--eoa-address"><code class="language-plaintext highlighter-rouge">Binance 7</code>  EOA Address</h3>
<blockquote>
  <p>‚òéÔ∏è <code class="language-plaintext highlighter-rouge">0xBE0eB53F46cd790Cd13851d5EFf43D12404d33E8</code></p>
</blockquote>

<h3 id="query-results">Query Results</h3>

<p><img src="/assets/2023-10-08-finding-nfts/query-results.webp" alt="" /></p>
<blockquote>
  <p>üü†  <a href="https://dune.com/joshua_web3/blpas-sample-dashboard?address_t7a5e7=0xBE0eB53F46cd790Cd13851d5EFf43D12404d33E8">dune.com/joshua_web3</a></p>
</blockquote>

<h3 id="check-it-out-with--etherscan--just-in-case-its-not-been-correctly-queried">Check it out with  <code class="language-plaintext highlighter-rouge">Etherscan</code>  just in case it‚Äôs not been correctly queried.</h3>

<ul>
  <li>Holders of  <code class="language-plaintext highlighter-rouge">Documenta X by Vuk Cosic</code></li>
</ul>

<p><img src="/assets/2023-10-08-finding-nfts/etherscan-documenta.webp" alt="" /></p>
<blockquote>
  <p>Etherscan</p>
</blockquote>

<ul>
  <li>Holders of  <code class="language-plaintext highlighter-rouge">New World Babies</code></li>
</ul>

<p><img src="/assets/2023-10-08-finding-nfts/etherscan-new-world-babies.webp" alt="" /></p>
<blockquote>
  <p>Etherscan</p>
</blockquote>

<h1 id="6-references">6. References</h1>

<ul>
  <li><a href="https://docs.openzeppelin.com/contracts/4.x/api/token/erc721">OpenZeppelin Docs</a></li>
  <li><a href="https://dune.com/joshua_web3/blpas-sample-dashboard?address_t7a5e7=0xBE0eB53F46cd790Cd13851d5EFf43D12404d33E8">Dune Dashboard</a>  (created by Joshua)</li>
</ul>

<hr />

<h2 id="published-by-joshua-kim"><em>Published by</em> Joshua Kim</h2>
<p><img src="/assets/profile/joshua-profile.png" alt="Joshua Kim" /></p>

  </div>

  <div class="pagination">
    
      <span class="prev" >
          <a href="http://localhost:4000/opensea-transaction/">
            &#xE000; OpenSeaÏóêÏÑú Î∞úÏÉùÌïú Ìä∏ÎûúÏû≠ÏÖò Îç∞Ïù¥ÌÑ∞ Íµ¨Ï°∞
          </a>
      </span>
    
    
      <span class="next" >
          <a href="http://localhost:4000/encoding-and-decoding-ethereum-contract-functions/">
            Intro to Encoding & Decoding Ethereum Contract Functions &#xE001;
          </a>
      </span>
    
  </div>

  <script type="text/javascript"
  src="https://unpkg.com/mermaid@10.6.1/dist/mermaid.min.js">
</script>
<script>
$(document).ready(function() {
    mermaid.initialize({
        theme: 'forest'
    });
});
</script>
  
</article>

    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          <!-- Refer to https://codepen.io/ruandre/pen/howFi -->
<ul class="svg-icon">

  

  

  
  <li><a href="mailto:joshuajkim413@gmail.com" class="icon-8 email" title="Email"><svg viewBox="0 0 512 512"><path d="M101.3 141.6v228.9h0.3 308.4 0.8V141.6H101.3zM375.7 167.8l-119.7 91.5 -119.6-91.5H375.7zM127.6 194.1l64.1 49.1 -64.1 64.1V194.1zM127.8 344.2l84.9-84.9 43.2 33.1 43-32.9 84.7 84.7L127.8 344.2 127.8 344.2zM384.4 307.8l-64.4-64.4 64.4-49.3V307.8z"/></svg><!--[if lt IE 9]><em>Email</em><![endif]--></a></li>
  

  

  

  
  <li><a href="https://github.com/joshua-data" class="icon-13 github" title="GitHub"><svg viewBox="0 0 512 512"><path d="M256 70.7c-102.6 0-185.9 83.2-185.9 185.9 0 82.1 53.3 151.8 127.1 176.4 9.3 1.7 12.3-4 12.3-8.9V389.4c-51.7 11.3-62.5-21.9-62.5-21.9 -8.4-21.5-20.6-27.2-20.6-27.2 -16.9-11.5 1.3-11.3 1.3-11.3 18.7 1.3 28.5 19.2 28.5 19.2 16.6 28.4 43.5 20.2 54.1 15.4 1.7-12 6.5-20.2 11.8-24.9 -41.3-4.7-84.7-20.6-84.7-91.9 0-20.3 7.3-36.9 19.2-49.9 -1.9-4.7-8.3-23.6 1.8-49.2 0 0 15.6-5 51.1 19.1 14.8-4.1 30.7-6.2 46.5-6.3 15.8 0.1 31.7 2.1 46.6 6.3 35.5-24 51.1-19.1 51.1-19.1 10.1 25.6 3.8 44.5 1.8 49.2 11.9 13 19.1 29.6 19.1 49.9 0 71.4-43.5 87.1-84.9 91.7 6.7 5.8 12.8 17.1 12.8 34.4 0 24.9 0 44.9 0 51 0 4.9 3 10.7 12.4 8.9 73.8-24.6 127-94.3 127-176.4C441.9 153.9 358.6 70.7 256 70.7z"/></svg><!--[if lt IE 9]><em>GitHub</em><![endif]--></a></li>
  

  

  

  
  <li><a href="https://www.linkedin.com/in/joshuajsk" class="icon-17 linkedin" title="LinkedIn"><svg viewBox="0 0 512 512"><path d="M186.4 142.4c0 19-15.3 34.5-34.2 34.5 -18.9 0-34.2-15.4-34.2-34.5 0-19 15.3-34.5 34.2-34.5C171.1 107.9 186.4 123.4 186.4 142.4zM181.4 201.3h-57.8V388.1h57.8V201.3zM273.8 201.3h-55.4V388.1h55.4c0 0 0-69.3 0-98 0-26.3 12.1-41.9 35.2-41.9 21.3 0 31.5 15 31.5 41.9 0 26.9 0 98 0 98h57.5c0 0 0-68.2 0-118.3 0-50-28.3-74.2-68-74.2 -39.6 0-56.3 30.9-56.3 30.9v-25.2H273.8z"/></svg><!--[if lt IE 9]><em>LinkedIn</em><![endif]--></a></li>
  

  

  

  

  

  

  

</ul>



<p>¬© Joshua Kim</p>

        </footer>
      </div>
    </div>

    

  </body>
</html>
